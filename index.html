<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIT Council | Professional Meeting Management</title>
    
    <!-- Favicon for SBC Logo -->
    <link rel="icon" type="image/png" href="https://img.icons8.com/color/96/000000/meeting.png">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Google Sign-In -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    
    <!-- Chart.js for Analytics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- FullCalendar for Meeting Calendar -->
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css' rel='stylesheet' />
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js'></script>
    
    <!-- PDF Generation Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf-autotable@3.5.28/dist/jspdf.plugin.autotable.min.js"></script>

    <style>
        :root {
            /* Light Theme */
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --primary-light: #dbeafe;
            --secondary: #7c3aed;
            --secondary-light: #ede9fe;
            --accent: #f59e0b;
            --success: #10b981;
            --success-light: #d1fae5;
            --danger: #ef4444;
            --danger-light: #fee2e2;
            --warning: #f59e0b;
            --warning-light: #fef3c7;
            --info: #3b82f6;
            --info-light: #dbeafe;
            
            /* Light Mode Colors */
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #f1f5f9;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --text-tertiary: #9ca3af;
            --border: #e5e7eb;
            --shadow-color: rgba(0, 0, 0, 0.1);
            
            /* Sizes */
            --sidebar-width: 280px;
            --header-height: 70px;
            --radius: 12px;
            --radius-sm: 8px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            
            /* Shadows */
            --shadow-sm: 0 1px 3px var(--shadow-color);
            --shadow-md: 0 4px 6px -1px var(--shadow-color);
            --shadow-lg: 0 10px 15px -3px var(--shadow-color);
            --shadow-xl: 0 20px 25px -5px var(--shadow-color);
        }

        /* Dark Theme Variables */
        [data-theme="dark"] {
            --primary: #3b82f6;
            --primary-dark: #2563eb;
            --primary-light: #1e3a8a;
            --secondary: #8b5cf6;
            --secondary-light: #4c1d95;
            --accent: #f59e0b;
            --success: #10b981;
            --success-light: #065f46;
            --danger: #ef4444;
            --danger-light: #7f1d1d;
            --warning: #f59e0b;
            --warning-light: #92400e;
            --info: #3b82f6;
            --info-light: #1e40af;
            
            /* Dark Mode Colors */
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-tertiary: #334155;
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --text-tertiary: #94a3b8;
            --border: #475569;
            --shadow-color: rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            min-height: 100vh;
            transition: var(--transition);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-tertiary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }

        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-primary);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .loading-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid var(--border);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            top: 100px;
            right: 30px;
            z-index: 9998;
        }

        .toast {
            background: var(--bg-primary);
            border-radius: var(--radius);
            padding: 16px;
            margin-bottom: 12px;
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 300px;
            max-width: 400px;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            border-left: 4px solid var(--primary);
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: white;
        }

        .toast-success .toast-icon { background: var(--success); }
        .toast-error .toast-icon { background: var(--danger); }
        .toast-warning .toast-icon { background: var(--warning); }
        .toast-info .toast-icon { background: var(--info); }

        .toast-content h4 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
            color: var(--text-primary);
        }

        .toast-content p {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .toast-close {
            margin-left: auto;
            background: none;
            border: none;
            color: var(--text-tertiary);
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: var(--transition);
        }

        .toast-close:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        /* Auth Container */
        .auth-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: relative;
            overflow: hidden;
        }

        .auth-container::before {
            content: '';
            position: absolute;
            width: 300%;
            height: 300%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 20px 20px;
            animation: float 20s linear infinite;
        }

        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            100% { transform: translate(-100px, -100px) rotate(360deg); }
        }

        .auth-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 24px;
            padding: 40px;
            width: 100%;
            max-width: 480px;
            box-shadow: var(--shadow-xl);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            z-index: 1;
            animation: slideUp 0.6s ease;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .auth-logo {
            text-align: center;
            margin-bottom: 30px;
        }

        .auth-logo i {
            font-size: 48px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
        }

        .auth-logo h1 {
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
        }

        .auth-logo p {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .auth-tabs {
            display: flex;
            background: var(--bg-tertiary);
            border-radius: 12px;
            padding: 4px;
            margin-bottom: 30px;
        }

        .auth-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            border-radius: 8px;
            font-weight: 500;
            transition: var(--transition);
            color: var(--text-secondary);
        }

        .auth-tab.active {
            background: var(--bg-primary);
            color: var(--primary);
            box-shadow: var(--shadow-sm);
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-primary);
            font-size: 14px;
        }

        .form-label.required::after {
            content: ' *';
            color: var(--danger);
        }

        .form-control {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 15px;
            transition: var(--transition);
            background: var(--bg-primary);
            color: var(--text-primary);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .form-hint {
            font-size: 12px;
            color: var(--text-tertiary);
            margin-top: 6px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .remember-me {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
        }

        .remember-me input[type="checkbox"] {
            width: 16px;
            height: 16px;
            accent-color: var(--primary);
        }

        .remember-me label {
            font-size: 14px;
            color: var(--text-secondary);
            cursor: pointer;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 14px 24px;
            border: none;
            border-radius: 10px;
            font-weight: 500;
            font-size: 15px;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            background: var(--primary);
            color: white;
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }

        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .btn-success {
            background: var(--success);
        }

        .btn-danger {
            background: var(--danger);
        }

        .btn-warning {
            background: var(--warning);
            color: white;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }

        .btn-google {
            background: white;
            color: #333;
            border: 2px solid var(--border);
            width: 100%;
            margin-top: 15px;
        }

        .btn-google:hover {
            border-color: var(--primary);
            background: var(--bg-secondary);
        }

        .btn-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-tertiary);
            border: none;
            color: var(--text-primary);
            cursor: pointer;
            transition: var(--transition);
            padding: 0;
        }

        .btn-icon:hover {
            background: var(--primary);
            color: white;
        }

        .btn-icon.active {
            background: var(--primary);
            color: white;
        }

        .divider {
            text-align: center;
            margin: 25px 0;
            position: relative;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .divider::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            width: 45%;
            height: 1px;
            background: var(--border);
        }

        .divider::after {
            content: '';
            position: absolute;
            right: 0;
            top: 50%;
            width: 45%;
            height: 1px;
            background: var(--border);
        }

        /* Main App Container */
        .app-container {
            display: none;
            min-height: 100vh;
            position: relative;
        }

        /* Header */
        .header {
            height: var(--header-height);
            background: var(--bg-primary);
            box-shadow: var(--shadow-md);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            padding: 0 30px;
            transition: var(--transition);
        }

        .menu-toggle {
            background: none;
            border: none;
            font-size: 20px;
            color: var(--text-primary);
            cursor: pointer;
            display: none;
            padding: 8px;
            border-radius: 8px;
            transition: var(--transition);
        }

        .menu-toggle:hover {
            background: var(--bg-tertiary);
        }

        .header-logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 18px;
            position: relative;
            overflow: hidden;
        }

        .logo-icon::before {
            content: 'SBC';
            font-size: 8px;
            position: absolute;
            bottom: 2px;
            right: 2px;
            color: rgba(255,255,255,0.7);
        }

        .header-title h1 {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .header-title p {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .header-actions {
            margin-left: auto;
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .theme-toggle {
            background: none;
            border: none;
            font-size: 20px;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: var(--transition);
        }

        .theme-toggle:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .notification-bell {
            position: relative;
            background: none;
            border: none;
            font-size: 20px;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: var(--transition);
        }

        .notification-bell:hover {
            background: var(--bg-tertiary);
            color: var(--primary);
        }

        .notification-badge {
            position: absolute;
            top: 4px;
            right: 4px;
            width: 8px;
            height: 8px;
            background: var(--danger);
            border-radius: 50%;
            border: 2px solid var(--bg-primary);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 10px;
            transition: var(--transition);
        }

        .user-profile:hover {
            background: var(--bg-tertiary);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 16px;
            overflow: hidden;
        }

        .user-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .user-info h4 {
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
        }

        .user-info p {
            font-size: 12px;
            color: var(--text-secondary);
        }

        /* Sidebar */
        .sidebar {
            width: var(--sidebar-width);
            background: var(--bg-primary);
            position: fixed;
            top: var(--header-height);
            left: 0;
            bottom: 0;
            box-shadow: var(--shadow-md);
            padding: 25px 0;
            overflow-y: auto;
            transition: var(--transition);
            z-index: 999;
            border-right: 1px solid var(--border);
        }

        .nav-group {
            margin-bottom: 25px;
            padding: 0 20px;
        }

        .nav-label {
            font-size: 11px;
            text-transform: uppercase;
            color: var(--text-secondary);
            font-weight: 600;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
            padding-left: 10px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            border-radius: 10px;
            margin-bottom: 5px;
            cursor: pointer;
            transition: var(--transition);
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            border: 1px solid transparent;
        }

        .nav-item:hover {
            background: var(--bg-tertiary);
            color: var(--primary);
        }

        .nav-item.active {
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.1), rgba(124, 58, 237, 0.1));
            color: var(--primary);
            font-weight: 600;
            border-color: var(--primary-light);
        }

        .nav-item i {
            width: 20px;
            text-align: center;
            font-size: 16px;
        }

        /* Main Content */
        .main-content {
            margin-left: var(--sidebar-width);
            padding: 30px;
            margin-top: var(--header-height);
            min-height: calc(100vh - var(--header-height));
            transition: var(--transition);
        }

        .page-header {
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .page-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .page-subtitle {
            font-size: 14px;
            color: var(--text-secondary);
            margin-top: 5px;
        }

        .page-actions {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        /* Auto-save Indicator */
        .auto-save-indicator {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            color: var(--text-tertiary);
            padding: 4px 8px;
            border-radius: 4px;
            background: var(--bg-tertiary);
            margin-left: 10px;
        }

        .auto-save-indicator.saving {
            color: var(--warning);
        }

        .auto-save-indicator.saved {
            color: var(--success);
        }

        /* Dashboard Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--bg-primary);
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow-md);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            font-size: 20px;
            color: white;
        }

        .stat-icon.primary { background: var(--primary); }
        .stat-icon.success { background: var(--success); }
        .stat-icon.warning { background: var(--warning); }
        .stat-icon.danger { background: var(--danger); }
        .stat-icon.info { background: var(--info); }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .stat-trend {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            font-weight: 500;
        }

        .trend-up { color: var(--success); }
        .trend-down { color: var(--danger); }
        .trend-neutral { color: var(--text-tertiary); }

        /* Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: var(--bg-primary);
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow-md);
            transition: var(--transition);
            border: 1px solid var(--border);
        }

        .card:hover {
            box-shadow: var(--shadow-lg);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }

        .card-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .card-actions {
            display: flex;
            gap: 8px;
        }

        /* Meeting List */
        .meeting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            transition: var(--transition);
        }

        .meeting-item:hover {
            background: var(--bg-tertiary);
            border-color: var(--primary);
        }

        .meeting-info h4 {
            font-size: 15px;
            font-weight: 500;
            margin-bottom: 5px;
            color: var(--text-primary);
        }

        .meeting-meta {
            display: flex;
            gap: 15px;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .meeting-type {
            padding: 3px 8px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        .type-regular { background: var(--info-light); color: var(--info); }
        .type-random { background: var(--warning-light); color: var(--warning); }
        .type-special { background: var(--secondary-light); color: var(--secondary); }
        .type-committee { background: var(--primary-light); color: var(--primary); }

        /* Badges */
        .badge {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .badge-success { background: var(--success-light); color: #065f46; }
        .badge-warning { background: var(--warning-light); color: #92400e; }
        .badge-danger { background: var(--danger-light); color: #991b1b; }
        .badge-info { background: var(--info-light); color: #1e40af; }
        .badge-primary { background: var(--primary-light); color: #1e40af; }

        /* Form Styling */
        .form-section {
            background: var(--bg-primary);
            border-radius: var(--radius);
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border);
            position: relative;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: var(--primary);
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid var(--border);
        }

        /* Save Button Group */
        .save-btn-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        /* Agenda Items */
        .agenda-items {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .agenda-item {
            background: var(--bg-secondary);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid var(--border);
            transition: var(--transition);
        }

        .agenda-item:hover {
            border-color: var(--primary);
            box-shadow: var(--shadow-sm);
        }

        .agenda-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .agenda-number {
            width: 30px;
            height: 30px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
        }

        .agenda-actions {
            display: flex;
            gap: 8px;
        }

        /* Attendance Grid */
        .attendance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .member-attendance {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--bg-secondary);
            border-radius: 10px;
            border: 1px solid var(--border);
            transition: var(--transition);
        }

        .member-attendance:hover {
            border-color: var(--primary);
        }

        .member-attendance.present {
            border-color: var(--success);
            background: var(--success-light);
        }

        .member-attendance.absent {
            border-color: var(--danger);
            background: var(--danger-light);
        }

        .member-attendance.late {
            border-color: var(--warning);
            background: var(--warning-light);
        }

        /* Student Questions */
        .questions-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-height: 400px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .question-item {
            background: var(--bg-secondary);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid var(--border);
            transition: var(--transition);
        }

        .question-item:hover {
            border-color: var(--primary);
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
        }

        .question-text {
            color: var(--text-primary);
            font-size: 14px;
            line-height: 1.5;
        }

        .question-meta {
            display: flex;
            gap: 10px;
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 8px;
        }

        /* Man of the Week/Month */
        .top-performer {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border-radius: var(--radius);
            padding: 25px;
            text-align: center;
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
            border: 2px solid #f59e0b;
        }

        .top-performer::before {
            content: 'üèÜ';
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 30px;
            opacity: 0.3;
        }

        .performer-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: 600;
            margin: 0 auto 15px;
            overflow: hidden;
        }

        .performer-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .performer-name {
            font-size: 20px;
            font-weight: 600;
            color: #92400e;
            margin-bottom: 5px;
        }

        .performer-reason {
            color: #78350f;
            font-size: 14px;
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .performer-stats {
            display: flex;
            justify-content: center;
            gap: 20px;
            font-size: 12px;
            color: #92400e;
        }

        /* Performance Charts */
        .chart-container {
            background: var(--bg-primary);
            border-radius: var(--radius);
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .chart-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
        }

        /* Council Members Grid */
        .members-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }

        .member-card {
            background: var(--bg-primary);
            border-radius: var(--radius);
            padding: 20px;
            text-align: center;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border);
            transition: var(--transition);
        }

        .member-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .member-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: 600;
            margin: 0 auto 15px;
            overflow: hidden;
        }

        .member-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .member-name {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .member-role {
            font-size: 14px;
            color: var(--primary);
            font-weight: 500;
            margin-bottom: 10px;
            padding: 4px 12px;
            background: var(--primary-light);
            border-radius: 20px;
            display: inline-block;
        }

        .member-info {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 15px;
        }

        .member-stats {
            display: flex;
            justify-content: center;
            gap: 15px;
            font-size: 12px;
            color: var(--text-tertiary);
        }

        /* Calendar */
        #calendar {
            background: var(--bg-primary);
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border);
        }

        /* Settings */
        .settings-section {
            background: var(--bg-primary);
            border-radius: var(--radius);
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border);
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--border);
        }

        .setting-item:last-child {
            border-bottom: none;
        }

        .setting-info h4 {
            font-size: 15px;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .setting-info p {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--border);
            transition: .4s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: var(--primary);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }

        /* Archive Section */
        .archive-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .archive-card {
            background: var(--bg-primary);
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border);
            transition: var(--transition);
        }

        .archive-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        .archive-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border);
        }

        .archive-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .archive-date {
            font-size: 12px;
            color: var(--text-secondary);
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.active {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .menu-toggle {
                display: block;
            }
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }

            .content-grid {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .header {
                padding: 0 20px;
            }

            .main-content {
                padding: 20px;
            }

            .page-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }

            .page-actions {
                width: 100%;
                justify-content: flex-start;
            }

            .form-actions {
                flex-direction: column;
                align-items: stretch;
            }

            .save-btn-group {
                width: 100%;
                justify-content: space-between;
            }
        }

        /* Print Styles for PDF */
        @media print {
            .header, .sidebar, .page-actions, .form-actions, .btn, .theme-toggle, .notification-bell, .user-profile {
                display: none !important;
            }

            .main-content {
                margin: 0;
                padding: 0;
            }

            .pdf-preview {
                box-shadow: none;
                padding: 0;
                border: none;
            }

            body {
                font-family: "Times New Roman", Times, serif;
                background: white !important;
                color: black !important;
            }

            .pdf-content {
                font-family: "Times New Roman", Times, serif;
            }
        }

        /* Animation Classes */
        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .slide-in {
            animation: slideIn 0.4s ease;
        }

        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Pulse Animation for Notifications */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }
  /* ==================== TABLET OPTIMIZATION ==================== */
/* Add these styles to your existing CSS */

/* Tablet-specific breakpoints */
@media (max-width: 1024px) and (min-width: 768px) {
    /* Better touch targets */
    .btn, 
    .nav-item, 
    .btn-icon, 
    .meeting-item,
    .form-control,
    select.form-control {
        min-height: 44px;
        padding: 12px 16px;
        font-size: 16px; /* Prevents iOS zoom */
    }
    
    .btn-icon {
        width: 44px;
        height: 44px;
        min-width: 44px;
    }
    
    /* Improve form inputs */
    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="date"],
    input[type="time"],
    textarea,
    select {
        font-size: 16px; /* Prevents iOS zoom */
        min-height: 44px;
        padding: 12px;
    }
    
    /* Adjust sidebar for tablet */
    .sidebar {
        width: 260px;
        transform: translateX(-100%);
        z-index: 1001;
        background: var(--bg-primary);
    }
    
    .sidebar.active {
        transform: translateX(0);
        box-shadow: var(--shadow-xl);
    }
    
    .main-content {
        margin-left: 0;
        padding: 20px;
    }
    
    /* Make menu toggle more visible */
    .menu-toggle {
        display: flex;
        width: 44px;
        height: 44px;
        align-items: center;
        justify-content: center;
        background: var(--primary);
        color: white;
        border-radius: var(--radius);
        margin-right: 15px;
    }
    
    /* Adjust header for tablet */
    .header {
        padding: 0 20px;
    }
    
    .header-title h1 {
        font-size: 16px;
    }
    
    .header-title p {
        font-size: 11px;
    }
    
    /* Improve card layouts */
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
    }
    
    .content-grid {
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    /* Improve table readability */
    .table-responsive {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
    }
    
    .table th,
    .table td {
        padding: 12px 8px;
        font-size: 14px;
        min-width: 100px;
    }
    
    /* Adjust form layouts */
    .form-row {
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
    }
    
    /* Improve button spacing */
    .page-actions {
        flex-wrap: wrap;
        gap: 10px;
    }
    
    .page-actions .btn {
        min-width: 120px;
    }
    
    /* Touch-friendly meeting items */
    .meeting-item {
        padding: 15px;
        margin-bottom: 8px;
    }
    
    .meeting-info h4 {
        font-size: 16px;
    }
    
    /* Improve calendar view */
    .fc .fc-toolbar {
        flex-direction: column;
        gap: 10px;
    }
    
    .fc .fc-toolbar-title {
        font-size: 1.2em;
    }
    
    /* Better notification bell */
    .notification-bell {
        width: 44px;
        height: 44px;
    }
    
    /* Adjust user profile */
    .user-profile {
        padding: 8px;
    }
    
    /* Improve modal/dialog sizes */
    .auth-card {
        padding: 30px;
        max-width: 90%;
        margin: 20px;
    }
    
    /* Better PDF preview */
    .pdf-preview {
        padding: 20px;
    }
    
    /* Touch-friendly tabs */
    .auth-tab {
        padding: 18px 15px;
        font-size: 16px;
    }
    
    /* Improve list items */
    .agenda-item,
    .question-item,
    .member-attendance {
        padding: 15px;
        margin-bottom: 10px;
    }
    
    /* Adjust chart containers */
    .chart-container {
        padding: 20px;
    }
    
    /* Better avatar sizes */
    .user-avatar,
    .member-avatar {
        width: 50px;
        height: 50px;
        font-size: 18px;
    }
    
    .performer-avatar {
        width: 100px;
        height: 100px;
        font-size: 32px;
    }
    
    /* Improve dropdowns */
    select {
        padding-right: 30px;
        background-position: right 10px center;
    }
    
    /* Add touch feedback */
    .btn:active,
    .nav-item:active,
    .btn-icon:active {
        transform: scale(0.98);
        opacity: 0.9;
    }
    
    /* Prevent text selection on interactive elements */
    .btn, 
    .nav-item, 
    .btn-icon {
        user-select: none;
        -webkit-user-select: none;
    }
    
    /* Improve scroll behavior */
    .sidebar,
    .main-content {
        -webkit-overflow-scrolling: touch;
    }
    
    /* Adjust spacing for tablet */
    .page-header {
        margin-bottom: 20px;
        padding-bottom: 15px;
    }
    
    .section-title {
        font-size: 18px;
        margin-bottom: 15px;
    }
}

/* Large tablets (10-11 inch) */
@media (max-width: 1280px) and (min-width: 1024px) {
    .sidebar {
        width: 240px;
    }
    
    .main-content {
        margin-left: 240px;
        padding: 25px;
    }
    
    .stats-grid {
        grid-template-columns: repeat(4, 1fr);
    }
    
    .content-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .form-row {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* Portrait tablets */
@media (max-width: 1024px) and (orientation: portrait) {
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .content-grid {
        grid-template-columns: 1fr;
    }
    
    .page-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
    }
    
    .page-actions {
        width: 100%;
        justify-content: space-between;
    }
}

/* Landscape tablets */
@media (max-width: 1024px) and (orientation: landscape) {
    .stats-grid {
        grid-template-columns: repeat(3, 1fr);
    }
    
    .content-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .header {
        height: 60px;
    }
    
    .sidebar {
        top: 60px;
    }
    
    .main-content {
        margin-top: 60px;
    }
}

/* ==================== TOUCH-FRIENDLY IMPROVEMENTS ==================== */
/* Add these to make it more tablet-friendly */

/* Touch-friendly checkboxes and radios */
input[type="checkbox"],
input[type="radio"] {
    width: 20px;
    height: 20px;
    margin-right: 10px;
}

/* Larger hit areas */
.nav-item::after {
    content: '';
    position: absolute;
    top: -5px;
    left: -5px;
    right: -5px;
    bottom: -5px;
}

/* Prevent double-tap zoom */
* {
    touch-action: manipulation;
}

/* Smooth scrolling */
html {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
}

/* Better focus states for touch */
.btn:focus-visible,
.nav-item:focus-visible,
.btn-icon:focus-visible {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
}

/* Improve form field focus */
.form-control:focus {
    border-width: 2px;
}

/* Tablet-optimized modal backdrop */
.modal-backdrop {
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(5px);
}

/* Better button groups */
.btn-group {
    display: flex;
    gap: 10px;
}

.btn-group .btn {
    flex: 1;
}

/* Tablet-specific utility classes */
.tablet-hide {
    display: none !important;
}

.tablet-show {
    display: block !important;
}

.tablet-flex {
    display: flex !important;
}

/* Improve toast notifications for tablet */
.toast-container {
    bottom: 20px;
    top: auto;
    right: 20px;
    left: 20px;
}

.toast {
    min-width: auto;
    max-width: 100%;
}

/* Better dropdowns for touch */
.dropdown-menu {
    min-width: 200px;
    padding: 10px 0;
}

.dropdown-item {
    padding: 12px 20px;
    font-size: 16px;
}

/* Touch-optimized date/time pickers */
input[type="date"]::-webkit-calendar-picker-indicator,
input[type="time"]::-webkit-calendar-picker-indicator {
    width: 24px;
    height: 24px;
    padding: 10px;
}

/* Tablet-optimized loading */
.loading-overlay {
    backdrop-filter: blur(10px);
}

/* Better PDF viewer for tablet */
.pdf-preview {
    max-height: 70vh;
    overflow-y: auto;
}

/* Touch-friendly table */
.table tr {
    min-height: 50px;
}

/* Tablet-optimized auth screen */
@media (max-width: 1024px) {
    .auth-container {
        padding: 10px;
    }
    
    .auth-card {
        border-radius: 20px;
        max-width: 95%;
        padding: 30px 20px;
    }
    
    .auth-logo h1 {
        font-size: 24px;
    }
    
    .auth-logo p {
        font-size: 14px;
    }
}

/* Add these JavaScript improvements to make it more tablet-friendly */
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
        <p style="margin-top: 20px; color: var(--text-secondary);">Loading SIT Council Portal...</p>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Authentication Section -->
    <div class="auth-container" id="authContainer">
        <div class="auth-card">
            <div class="auth-logo">
                <i class="fas fa-users"></i>
                <h1>SIT Council Portal</h1>
                <p>Professional Meeting Management System</p>
            </div>

            <div class="auth-tabs">
                <div class="auth-tab active" data-form="login">Sign In</div>
                <div class="auth-tab" data-form="register">Sign Up</div>
            </div>

            <!-- Login Form -->
            <form class="auth-form active" id="loginForm">
                <div class="form-group">
                    <label class="form-label required">Email Address</label>
                    <input type="email" class="form-control" id="loginEmail" placeholder="you@example.com" required>
                </div>

                <div class="form-group">
                    <label class="form-label required">Password</label>
                    <input type="password" class="form-control" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                    <div class="form-hint">
                        <i class="fas fa-info-circle"></i>
                        <a href="#" style="color: var(--primary);" id="forgotPassword">Forgot password?</a>
                    </div>
                </div>

                <div class="remember-me">
                    <input type="checkbox" id="rememberMe">
                    <label for="rememberMe">Remember me</label>
                </div>

                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    <i class="fas fa-sign-in-alt"></i> Sign In
                </button>

                <div class="divider">or continue with</div>

                <!-- Google Sign-In Button -->
                <div id="g_id_onload"
                    data-client_id="YOUR_GOOGLE_CLIENT_ID"
                    data-context="signin"
                    data-ux_mode="popup"
                    data-login_uri="http://localhost:3000/auth/google/callback"
                    data-auto_prompt="false">
                </div>

                <div class="g_id_signin"
                    data-type="standard"
                    data-shape="rectangular"
                    data-theme="outline"
                    data-text="signin_with"
                    data-size="large"
                    data-logo_alignment="left"
                    data-width="100%"
                    style="margin-bottom: 15px;">
                </div>

                <div style="text-align: center; margin-top: 25px;">
                    <p style="font-size: 13px; color: var(--text-secondary);">
                        Demo Credentials:<br>
                        admin@sit.edu / password123
                    </p>
                </div>
            </form>

            <!-- Registration Form -->
            <form class="auth-form" id="registerForm">
                <div class="form-group">
                    <label class="form-label required">Full Name</label>
                    <input type="text" class="form-control" id="registerName" placeholder="John Doe" required>
                </div>

                <div class="form-group">
                    <label class="form-label required">Email Address</label>
                    <input type="email" class="form-control" id="registerEmail" placeholder="you@example.com" required>
                    <div class="form-hint">
                        <i class="fas fa-envelope"></i> Use your SIT email address
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label required">Password</label>
                    <input type="password" class="form-control" id="registerPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                    <div class="form-hint">
                        <i class="fas fa-lock"></i> Minimum 8 characters with letters and numbers
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label required">Confirm Password</label>
                    <input type="password" class="form-control" id="registerConfirm" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>

                <div class="form-group">
                    <label class="form-label required">Council Role</label>
                    <select class="form-control" id="registerRole" required>
                        <option value="">Select your role</option>
                        <option value="President">President</option>
                        <option value="Vice President">Vice President</option>
                        <option value="Secretary">Secretary</option>
                        <option value="Treasurer">Treasurer</option>
                        <option value="PRO">Public Relations Officer</option>
                        <option value="Coordinator">Club Coordinator</option>
                        <option value="Member">Council Member</option>
                        <option value="Guest">Guest/Invitee</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Student ID</label>
                    <input type="text" class="form-control" id="registerStudentId" placeholder="SIT2023XXX">
                </div>

                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    <i class="fas fa-user-plus"></i> Create Account
                </button>

                <div class="divider">or</div>

                <button type="button" class="btn btn-google" id="googleRegister">
                    <i class="fab fa-google"></i> Sign up with Google
                </button>
            </form>
        </div>
    </div>

    <!-- Main Application -->
    <div class="app-container" id="appContainer">
        <!-- Header -->
        <header class="header">
            <button class="menu-toggle" id="menuToggle">
                <i class="fas fa-bars"></i>
            </button>

            <div class="header-logo">
                <div class="logo-icon">SC</div>
                <div class="header-title">
                    <h1>SIT Council Portal</h1>
                    <p>Meeting Minutes & Management System</p>
                </div>
            </div>

            <div class="header-actions">
                <button class="theme-toggle" id="themeToggle" title="Toggle Dark Mode">
                    <i class="fas fa-moon"></i>
                </button>

                <button class="notification-bell" id="notificationBell" title="Notifications">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge"></span>
                </button>

                <div class="user-profile" id="userProfile">
                    <div class="user-avatar" id="userAvatar">TH</div>
                    <div class="user-info">
                        <h4 id="userName">Tahir Hasan</h4>
                        <p id="userRole">Secretary</p>
                    </div>
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
        </header>

        <!-- Sidebar -->
        <nav class="sidebar" id="sidebar">
            <div class="nav-group">
                <div class="nav-label">Main</div>
                <a href="#" class="nav-item active" data-page="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    Dashboard
                </a>
                <a href="#" class="nav-item" data-page="calendar">
                    <i class="fas fa-calendar-alt"></i>
                    Meeting Calendar
                </a>
                <a href="#" class="nav-item" data-page="minutes">
                    <i class="fas fa-clipboard-list"></i>
                    Meeting Minutes
                </a>
                <a href="#" class="nav-item" data-page="archive">
                    <i class="fas fa-archive"></i>
                    Archive
                </a>
            </div>

            <div class="nav-group">
                <div class="nav-label">Meetings</div>
                <a href="#" class="nav-item" data-page="new-meeting">
                    <i class="fas fa-plus-circle"></i>
                    New Meeting
                </a>
                <a href="#" class="nav-item" data-page="agenda">
                    <i class="fas fa-list-ol"></i>
                    Agenda Builder
                </a>
                <a href="#" class="nav-item" data-page="questions">
                    <i class="fas fa-question-circle"></i>
                    Student Questions
                </a>
                <a href="#" class="nav-item" data-page="attendance">
                    <i class="fas fa-user-check"></i>
                    Attendance
                </a>
            </div>

            <div class="nav-group">
                <div class="nav-label">Management</div>
                <a href="#" class="nav-item" data-page="actions">
                    <i class="fas fa-tasks"></i>
                    Action Items
                </a>
                <a href="#" class="nav-item" data-page="reports">
                    <i class="fas fa-chart-bar"></i>
                    Reports & Analytics
                </a>
                <a href="#" class="nav-item" data-page="performance">
                    <i class="fas fa-trophy"></i>
                    Performance
                </a>
                <a href="#" class="nav-item" data-page="publish">
                    <i class="fas fa-share-alt"></i>
                    Publish & Share
                </a>
            </div>

            <div class="nav-group">
                <div class="nav-label">Council</div>
                <a href="#" class="nav-item" data-page="members">
                    <i class="fas fa-user-friends"></i>
                    Council Members
                </a>
                <a href="#" class="nav-item" data-page="settings">
                    <i class="fas fa-cog"></i>
                    Settings
                </a>
                <a href="#" class="nav-item" data-page="help">
                    <i class="fas fa-question-circle"></i>
                    Help & Support
                </a>
            </div>

            <div class="nav-group">
                <a href="#" class="nav-item" id="logoutBtn" style="color: var(--danger);">
                    <i class="fas fa-sign-out-alt"></i>
                    Logout
                </a>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content" id="mainContent">
            <!-- Dashboard Content -->
            <div class="page-content active" id="dashboardContent">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Dashboard</h1>
                        <p class="page-subtitle">
                            Welcome back, <span id="greetingName">Tahir</span>! Here's your council overview.
                        </p>
                    </div>
                    <div class="page-actions">
                        <span class="auto-save-indicator" id="autoSaveIndicator">
                            <i class="fas fa-save"></i>
                            <span>Auto-saved</span>
                        </span>
                        <button class="btn btn-primary" id="quickMeetingBtn">
                            <i class="fas fa-plus"></i> Quick Meeting
                        </button>
                        <button class="btn btn-secondary" id="saveDashboardBtn">
                            <i class="fas fa-save"></i> Save Dashboard
                        </button>
                    </div>
                </div>

                <!-- Top Performer of the Week -->
                <div class="top-performer slide-in">
                    <div class="performer-avatar" id="performerAvatar">TH</div>
                    <h2 class="performer-name" id="performerName">Tahir Hasan</h2>
                    <p class="performer-reason" id="performerReason">
                        For outstanding leadership in organizing the cultural fest and completing 12 tasks this week
                    </p>
                    <div class="performer-stats">
                        <span><i class="fas fa-tasks"></i> 12 Tasks Completed</span>
                        <span><i class="fas fa-users"></i> 5 Meetings Attended</span>
                        <span><i class="fas fa-star"></i> 95% Performance</span>
                    </div>
                </div>

                <!-- Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card fade-in">
                        <div class="stat-icon primary">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="stat-value" id="meetingsCount">8</div>
                        <div class="stat-label">Meetings This Month</div>
                        <div class="stat-trend trend-up">
                            <i class="fas fa-arrow-up"></i> 25% from last month
                        </div>
                    </div>

                    <div class="stat-card fade-in" style="animation-delay: 0.1s;">
                        <div class="stat-icon success">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-value" id="tasksCount">24</div>
                        <div class="stat-label">Completed Actions</div>
                        <div class="stat-trend trend-up">
                            <i class="fas fa-arrow-up"></i> 18% progress
                        </div>
                    </div>

                    <div class="stat-card fade-in" style="animation-delay: 0.2s;">
                        <div class="stat-icon warning">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-value" id="pendingCount">7</div>
                        <div class="stat-label">Pending Decisions</div>
                        <div class="stat-trend trend-down">
                            <i class="fas fa-arrow-down"></i> Needs attention
                        </div>
                    </div>

                    <div class="stat-card fade-in" style="animation-delay: 0.3s;">
                        <div class="stat-icon danger">
                            <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <div class="stat-value" id="overdueCount">3</div>
                        <div class="stat-label">Overdue Tasks</div>
                        <div class="stat-trend trend-down">
                            <i class="fas fa-bell"></i> Action required
                        </div>
                    </div>
                </div>

                <!-- Recent Meetings & Quick Actions -->
                <div class="content-grid">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Recent Meetings</h2>
                            <div class="card-actions">
                                <button class="btn-icon" id="refreshMeetings" title="Refresh">
                                    <i class="fas fa-sync-alt"></i>
                                </button>
                                <button class="btn-icon" id="viewAllMeetings" title="View All">
                                    <i class="fas fa-external-link-alt"></i>
                                </button>
                            </div>
                        </div>
                        <div id="recentMeetingsList">
                            <!-- Meetings will be loaded here -->
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Quick Actions</h2>
                        </div>
                        <div style="display: grid; gap: 12px;">
                            <button class="btn btn-secondary" id="generateReportBtn">
                                <i class="fas fa-file-pdf"></i> Generate Monthly Report
                            </button>
                            <button class="btn btn-secondary" id="sendRemindersBtn">
                                <i class="fas fa-envelope"></i> Send Meeting Reminders
                            </button>
                            <button class="btn btn-secondary" id="viewAnalyticsBtn">
                                <i class="fas fa-chart-line"></i> View Performance Analytics
                            </button>
                            <button class="btn btn-secondary" id="exportDataBtn">
                                <i class="fas fa-download"></i> Export All Data
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Upcoming Meetings -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Upcoming Meetings</h2>
                        <div class="card-actions">
                            <button class="btn-icon" id="addMeetingBtn">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Date & Time</th>
                                    <th>Meeting Title</th>
                                    <th>Type</th>
                                    <th>Location</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="upcomingMeetingsTable">
                                <!-- Upcoming meetings will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- New Meeting Content -->
            <div class="page-content" id="newMeetingContent">
                <div class="page-header">
                    <h1 class="page-title">Create New Meeting</h1>
                    <div class="page-actions">
                        <div class="save-btn-group">
                            <span class="auto-save-indicator" id="meetingAutoSaveIndicator">
                                <i class="fas fa-save"></i>
                                <span>Auto-saved</span>
                            </span>
                            <button class="btn btn-secondary" id="saveDraftBtn">
                                <i class="fas fa-save"></i> Save Draft
                            </button>
                            <button class="btn btn-primary" id="createMeetingBtn">
                                <i class="fas fa-check"></i> Create Meeting
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Meeting Information -->
                <div class="form-section">
                    <h2 class="section-title">
                        <i class="fas fa-info-circle"></i> Meeting Information
                    </h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label required">Meeting Title</label>
                            <input type="text" class="form-control" id="meetingTitle" placeholder="Monthly Council Meeting">
                        </div>
                        <div class="form-group">
                            <label class="form-label required">Meeting Type</label>
                            <select class="form-control" id="meetingType">
                                <option value="regular">Regular Meeting</option>
                                <option value="random">Random/Urgent Meeting</option>
                                <option value="special">Special Session</option>
                                <option value="committee">Committee Meeting</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label required">Date</label>
                            <input type="date" class="form-control" id="meetingDate">
                        </div>
                        <div class="form-group">
                            <label class="form-label required">Start Time</label>
                            <input type="time" class="form-control" id="meetingStartTime">
                        </div>
                        <div class="form-group">
                            <label class="form-label required">End Time</label>
                            <input type="time" class="form-control" id="meetingEndTime">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Location</label>
                            <input type="text" class="form-control" id="meetingLocation" placeholder="Conference Room A">
                        </div>
                        <div class="form-group">
                            <label class="form-label required">Chairperson</label>
                            <input type="text" class="form-control" id="meetingChair" placeholder="Name of chairperson">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Meeting Objective</label>
                        <textarea class="form-control" id="meetingObjective" rows="3" placeholder="Brief description of meeting purpose..."></textarea>
                    </div>
                </div>

                <!-- Agenda Section -->
                <div class="form-section">
                    <h2 class="section-title">
                        <i class="fas fa-list-ol"></i> Agenda Items
                    </h2>
                    <div class="agenda-items" id="agendaItems">
                        <!-- Agenda items will be added here -->
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-outline" id="addAgendaItem">
                            <i class="fas fa-plus"></i> Add Agenda Item
                        </button>
                    </div>
                </div>

                <!-- Student Questions Section -->
                <div class="form-section">
                    <h2 class="section-title">
                        <i class="fas fa-question-circle"></i> Student Questions
                    </h2>
                    <div class="questions-list" id="questionsList">
                        <!-- Questions will be added here -->
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-outline" id="addQuestion">
                            <i class="fas fa-plus"></i> Add Question
                        </button>
                    </div>
                </div>

                <!-- Attendance Section -->
                <div class="form-section">
                    <h2 class="section-title">
                        <i class="fas fa-user-check"></i> Attendance Tracking
                    </h2>
                    <div class="attendance-grid" id="attendanceGrid">
                        <!-- Attendance items will be added here -->
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-outline" id="markAllPresent">
                            <i class="fas fa-check"></i> Mark All Present
                        </button>
                    </div>
                </div>

                <!-- Minutes & Actions Section -->
                <div class="form-section">
                    <h2 class="section-title">
                        <i class="fas fa-clipboard-list"></i> Minutes & Action Items
                    </h2>
                    <div class="form-group">
                        <label class="form-label">Meeting Summary</label>
                        <textarea class="form-control" id="meetingSummary" rows="4" placeholder="Detailed summary of discussions and decisions..."></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Decisions Made</label>
                        <div id="decisionsList">
                            <!-- Decisions will be added here -->
                        </div>
                        <button type="button" class="btn btn-outline" id="addDecision" style="margin-top: 10px;">
                            <i class="fas fa-plus"></i> Add Decision
                        </button>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Action Items</label>
                        <div id="actionItemsList">
                            <!-- Action items will be added here -->
                        </div>
                        <button type="button" class="btn btn-outline" id="addActionItem" style="margin-top: 10px;">
                            <i class="fas fa-plus"></i> Add Action Item
                        </button>
                    </div>
                </div>

                <!-- Publish & Share Section -->
                <div class="form-section">
                    <h2 class="section-title">
                        <i class="fas fa-share-alt"></i> Publish & Share
                    </h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Share with</label>
                            <select class="form-control" id="shareWith" multiple style="height: 100px;">
                                <!-- Members will be populated here -->
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Notification Method</label>
                            <div class="form-hint">
                                <label style="display: block; margin-bottom: 5px;">
                                    <input type="checkbox" id="notifyEmail" checked> Email
                                </label>
                                <label style="display: block; margin-bottom: 5px;">
                                    <input type="checkbox" id="notifySMS"> SMS
                                </label>
                                <label style="display: block;">
                                    <input type="checkbox" id="notifyApp"> In-App Notification
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="previewMinutes">
                            <i class="fas fa-eye"></i> Preview Minutes
                        </button>
                        <button type="button" class="btn btn-primary" id="publishMinutes">
                            <i class="fas fa-paper-plane"></i> Publish & Share
                        </button>
                    </div>
                </div>
            </div>

            <!-- Agenda Builder Content -->
            <div class="page-content" id="agendaContent">
                <div class="page-header">
                    <h1 class="page-title">Agenda Builder</h1>
                    <div class="page-actions">
                        <span class="auto-save-indicator" id="agendaAutoSaveIndicator">
                            <i class="fas fa-save"></i>
                            <span>Auto-saved</span>
                        </span>
                        <button class="btn btn-primary" id="saveAgendaBtn">
                            <i class="fas fa-save"></i> Save Agenda
                        </button>
                    </div>
                </div>
                <!-- Agenda builder content will be here -->
            </div>

            <!-- Student Questions Content -->
            <div class="page-content" id="questionsContent">
                <div class="page-header">
                    <h1 class="page-title">Student Questions</h1>
                    <div class="page-actions">
                        <span class="auto-save-indicator" id="questionsAutoSaveIndicator">
                            <i class="fas fa-save"></i>
                            <span>Auto-saved</span>
                        </span>
                        <button class="btn btn-primary" id="saveQuestionsBtn">
                            <i class="fas fa-save"></i> Save Questions
                        </button>
                    </div>
                </div>
                <!-- Questions content will be here -->
            </div>

            <!-- Attendance Content -->
            <div class="page-content" id="attendanceContent">
                <div class="page-header">
                    <h1 class="page-title">Attendance Tracking</h1>
                    <div class="page-actions">
                        <span class="auto-save-indicator" id="attendanceAutoSaveIndicator">
                            <i class="fas fa-save"></i>
                            <span>Auto-saved</span>
                        </span>
                        <button class="btn btn-primary" id="saveAttendanceBtn">
                            <i class="fas fa-save"></i> Save Attendance
                        </button>
                    </div>
                </div>
                <!-- Attendance content will be here -->
            </div>

            <!-- Minutes & Actions Content -->
            <div class="page-content" id="actionsContent">
                <div class="page-header">
                    <h1 class="page-title">Minutes & Action Items</h1>
                    <div class="page-actions">
                        <span class="auto-save-indicator" id="minutesAutoSaveIndicator">
                            <i class="fas fa-save"></i>
                            <span>Auto-saved</span>
                        </span>
                        <button class="btn btn-primary" id="saveMinutesBtn">
                            <i class="fas fa-save"></i> Save Minutes
                        </button>
                    </div>
                </div>
                <!-- Minutes content will be here -->
            </div>

            <!-- Publish & Share Content -->
            <div class="page-content" id="publishContent">
                <div class="page-header">
                    <h1 class="page-title">Publish & Share</h1>
                    <div class="page-actions">
                        <button class="btn btn-primary" id="generatePdfBtn">
                            <i class="fas fa-file-pdf"></i> Generate PDF
                        </button>
                        <button class="btn btn-success" id="shareNowBtn">
                            <i class="fas fa-share-alt"></i> Share Now
                        </button>
                    </div>
                </div>
                <!-- Publish content will be here -->
            </div>

            <!-- Performance Content -->
            <div class="page-content" id="performanceContent">
                <div class="page-header">
                    <h1 class="page-title">Performance Dashboard</h1>
                    <div class="page-actions">
                        <button class="btn btn-primary" id="refreshPerformanceBtn">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                    </div>
                </div>
                <!-- Performance content will be here -->
            </div>

            <!-- Settings Content -->
            <div class="page-content" id="settingsContent">
                <div class="page-header">
                    <h1 class="page-title">Settings</h1>
                    <div class="page-actions">
                        <button class="btn btn-primary" id="saveSettingsBtn">
                            <i class="fas fa-save"></i> Save Settings
                        </button>
                    </div>
                </div>
                <!-- Settings content will be here -->
            </div>

            <!-- Council Members Content -->
            <div class="page-content" id="membersContent">
                <div class="page-header">
                    <h1 class="page-title">Council Members</h1>
                    <div class="page-actions">
                        <button class="btn btn-primary" id="addMemberBtn">
                            <i class="fas fa-plus"></i> Add Member
                        </button>
                    </div>
                </div>
                <!-- Members content will be here -->
            </div>

            <!-- Archive Content -->
            <div class="page-content" id="archiveContent">
                <div class="page-header">
                    <h1 class="page-title">Meeting Archive</h1>
                    <div class="page-actions">
                        <div class="save-btn-group">
                            <button class="btn btn-secondary" id="filterArchiveBtn">
                                <i class="fas fa-filter"></i> Filter
                            </button>
                            <button class="btn btn-primary" id="exportArchiveBtn">
                                <i class="fas fa-download"></i> Export Archive
                            </button>
                        </div>
                    </div>
                </div>
                <!-- Archive content will be here -->
            </div>

            <!-- Calendar Content -->
            <div class="page-content" id="calendarContent">
                <div class="page-header">
                    <h1 class="page-title">Meeting Calendar</h1>
                    <div class="page-actions">
                        <button class="btn btn-primary" id="addCalendarEvent">
                            <i class="fas fa-plus"></i> Add Event
                        </button>
                    </div>
                </div>
                <div id="calendar"></div>
            </div>

            <!-- PDF Preview Content -->
            <div class="page-content" id="pdfContent">
                <div class="page-header">
                    <h1 class="page-title">PDF Export</h1>
                    <div class="page-actions">
                        <button class="btn btn-secondary" id="printPdfBtn">
                            <i class="fas fa-print"></i> Print
                        </button>
                        <button class="btn btn-primary" id="downloadPdfBtn">
                            <i class="fas fa-download"></i> Download PDF
                        </button>
                    </div>
                </div>
                <div class="pdf-preview" id="pdfPreview">
                    <div class="pdf-header">
                        <h2>SIT STUDENT COUNCIL</h2>
                        <p>Official Meeting Minutes</p>
                        <p style="margin-top: 10px; font-size: 12px;">
                            Document ID: SC-<span id="docId">2023-001</span> | Generated: <span id="docDate">Nov 29, 2023</span>
                        </p>
                    </div>
                    <div class="pdf-content" id="pdfContentArea">
                        <!-- PDF content will be generated here -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
  // ==================== TABLET DETECTION & OPTIMIZATION ====================
// Add this at the beginning of your existing script

function isTablet() {
    return window.innerWidth <= 1024 && window.innerWidth >= 768;
}

function isMobile() {
    return window.innerWidth < 768;
}

function isTouchDevice() {
    return ('ontouchstart' in window) || 
           (navigator.maxTouchPoints > 0) || 
           (navigator.msMaxTouchPoints > 0);
}

// Apply tablet optimizations
function applyTabletOptimizations() {
    if (isTablet()) {
        // Add tablet-specific classes
        document.body.classList.add('tablet-device');
        
        // Auto-open sidebar on dashboard if not mobile
        if (window.innerWidth >= 768 && !sidebar.classList.contains('active')) {
            sidebar.classList.add('active');
        }
        
        // Increase font size for better readability
        document.documentElement.style.fontSize = '15px';
        
        // Adjust button sizes
        document.querySelectorAll('.btn').forEach(btn => {
            btn.style.minHeight = '44px';
            btn.style.padding = '12px 20px';
        });
    } else if (isMobile()) {
        document.body.classList.add('mobile-device');
        document.documentElement.style.fontSize = '14px';
    } else {
        document.body.classList.add('desktop-device');
        document.documentElement.style.fontSize = '16px';
    }
    
    // Apply touch-specific optimizations
    if (isTouchDevice()) {
        document.body.classList.add('touch-device');
        
        // Add touch event listeners for better UX
        document.querySelectorAll('.btn, .nav-item, .btn-icon').forEach(el => {
            el.addEventListener('touchstart', function() {
                this.classList.add('touch-active');
            }, { passive: true });
            
            el.addEventListener('touchend', function() {
                this.classList.remove('touch-active');
            }, { passive: true });
        });
    }
}

// Handle viewport changes
let resizeTimer;
window.addEventListener('resize', () => {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(() => {
        applyTabletOptimizations();
        adjustLayoutForOrientation();
    }, 250);
});

// Handle orientation changes
function adjustLayoutForOrientation() {
    const isPortrait = window.innerHeight > window.innerWidth;
    
    if (isTablet()) {
        if (isPortrait) {
            document.body.classList.add('portrait');
            document.body.classList.remove('landscape');
        } else {
            document.body.classList.add('landscape');
            document.body.classList.remove('portrait');
        }
    }
}

// Add touch feedback styles dynamically
const touchStyles = `
.touch-active {
    opacity: 0.8 !important;
    transform: scale(0.98) !important;
    transition: all 0.1s ease !important;
}

.tablet-device .nav-item {
    padding: 15px 20px !important;
    margin-bottom: 8px !important;
}

.tablet-device .sidebar {
    width: 280px !important;
}

.tablet-device .main-content {
    padding-left: 20px !important;
    padding-right: 20px !important;
}

@media (orientation: portrait) {
    .tablet-device .stats-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}

@media (orientation: landscape) {
    .tablet-device .stats-grid {
        grid-template-columns: repeat(4, 1fr) !important;
    }
}
`;

// Inject touch styles
const styleSheet = document.createElement('style');
styleSheet.textContent = touchStyles;
document.head.appendChild(styleSheet);

// Initialize tablet optimizations when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    applyTabletOptimizations();
    adjustLayoutForOrientation();
    
    // Add tablet-specific event listeners
    if (isTablet()) {
        // Prevent zoom on double-tap
        document.addEventListener('dblclick', (e) => {
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                return;
            }
            e.preventDefault();
        }, { passive: false });
        
        // Improve form submission on tablet
        document.querySelectorAll('form').forEach(form => {
            form.addEventListener('submit', (e) => {
                // Hide keyboard on submit
                if (document.activeElement && document.activeElement.blur) {
                    document.activeElement.blur();
                }
            });
        });
        
        // Auto-focus management for tablets
        document.addEventListener('touchstart', (e) => {
            // Don't auto-focus on touch unless it's an input
            if (!['INPUT', 'TEXTAREA', 'SELECT'].includes(e.target.tagName)) {
                if (document.activeElement && document.activeElement.blur) {
                    document.activeElement.blur();
                }
            }
        }, { passive: true });
    }
});
        // ==================== ENHANCED DATABASE ====================
        const Database = {
            users: [
                {
                    id: 1,
                    name: "Tahir Hasan",
                    email: "admin@sit.edu",
                    password: "password123",
                    role: "Secretary",
                    studentId: "SIT2023001",
                    avatar: "TH",
                    avatarColor: "#2563eb",
                    department: "Computer Science",
                    phone: "+1234567890",
                    joinDate: "2023-01-15",
                    performance: {
                        meetingsAttended: 45,
                        tasksCompleted: 89,
                        rating: 4.8,
                        streak: 12,
                        achievements: ["Perfect Attendance", "Top Contributor", "Leadership Excellence"],
                        points: 1250
                    },
                    preferences: {
                        theme: "light",
                        notifications: true,
                        autoSave: true
                    }
                },
                {
                    id: 2,
                    name: "Ibrahim Mohammed",
                    email: "president@sit.edu",
                    password: "password123",
                    role: "President",
                    studentId: "SIT2023002",
                    avatar: "IM",
                    avatarColor: "#7c3aed",
                    department: "Business Administration",
                    phone: "+1234567891",
                    joinDate: "2023-01-15",
                    performance: {
                        meetingsAttended: 42,
                        tasksCompleted: 76,
                        rating: 4.6,
                        streak: 8,
                        achievements: ["Strategic Planning", "Public Speaking"],
                        points: 1100
                    }
                },
                {
                    id: 3,
                    name: "Asli Ahmed",
                    email: "vicepresident@sit.edu",
                    password: "password123",
                    role: "Vice President",
                    studentId: "SIT2023003",
                    avatar: "AA",
                    avatarColor: "#10b981",
                    department: "Engineering",
                    phone: "+1234567892",
                    joinDate: "2023-01-20",
                    performance: {
                        meetingsAttended: 38,
                        tasksCompleted: 65,
                        rating: 4.4,
                        streak: 6,
                        achievements: ["Team Builder"],
                        points: 980
                    }
                },
                {
                    id: 4,
                    name: "Fatima Ali",
                    email: "treasurer@sit.edu",
                    password: "password123",
                    role: "Treasurer",
                    studentId: "SIT2023004",
                    avatar: "FA",
                    avatarColor: "#f59e0b",
                    department: "Finance",
                    phone: "+1234567893",
                    joinDate: "2023-01-22",
                    performance: {
                        meetingsAttended: 40,
                        tasksCompleted: 72,
                        rating: 4.5,
                        streak: 10,
                        achievements: ["Budget Master"],
                        points: 1050
                    }
                }
            ],

            meetings: [
                {
                    id: 1,
                    title: "Monthly Council Meeting",
                    type: "regular",
                    date: "2023-11-30",
                    startTime: "14:00",
                    endTime: "16:00",
                    location: "Conference Room A",
                    chair: "Ibrahim Mohammed",
                    minutesTaker: "Tahir Hasan",
                    objective: "Review monthly activities and plan for cultural fest",
                    attendees: [
                        { id: 1, name: "Tahir Hasan", role: "Secretary", status: "present", time: "13:55" },
                        { id: 2, name: "Ibrahim Mohammed", role: "President", status: "present", time: "14:00" },
                        { id: 3, name: "Asli Ahmed", role: "Vice President", status: "present", time: "14:02" },
                        { id: 4, name: "Fatima Ali", role: "Treasurer", status: "late", time: "14:15" }
                    ],
                    agenda: [
                        { 
                            id: 1, 
                            title: "Budget Review", 
                            presenter: "Fatima Ali", 
                            duration: 15,
                            description: "Review of monthly budget and expenses",
                            status: "completed"
                        },
                        { 
                            id: 2, 
                            title: "Cultural Fest Planning", 
                            presenter: "Event Coordinator", 
                            duration: 30,
                            description: "Planning for upcoming cultural festival",
                            status: "in-progress"
                        }
                    ],
                    questions: [
                        {
                            id: 1,
                            question: "When will the cultural fest take place?",
                            askedBy: "Student Representative",
                            answer: "Scheduled for December 15-17, 2023",
                            status: "answered"
                        }
                    ],
                    minutes: {
                        summary: "Productive meeting discussing budget allocations and upcoming cultural fest arrangements.",
                        decisions: [
                            "Approved cultural fest budget of $5,000",
                            "Assigned responsibilities for event committees",
                            "Scheduled next meeting for December 15, 2023"
                        ],
                        actionItems: [
                            { 
                                id: 1, 
                                task: "Finalize budget report", 
                                assignee: "Fatima Ali", 
                                deadline: "2023-12-05",
                                status: "pending",
                                priority: "high"
                            },
                            { 
                                id: 2, 
                                task: "Create event timeline", 
                                assignee: "Tahir Hasan", 
                                deadline: "2023-12-03",
                                status: "in-progress",
                                priority: "medium"
                            }
                        ],
                        nextMeeting: {
                            date: "2023-12-15",
                            time: "14:00",
                            location: "Conference Room B",
                            agenda: "Review cultural fest progress and budget utilization"
                        }
                    },
                    status: "completed",
                    archived: false,
                    createdAt: "2023-11-25T10:00:00Z",
                    updatedAt: "2023-11-30T16:30:00Z"
                }
            ],

            performance: {
                manOfTheWeek: {
                    userId: 1,
                    name: "Tahir Hasan",
                    avatar: "TH",
                    reason: "Outstanding leadership in organizing cultural fest and completing 12 tasks this week",
                    stats: { 
                        tasks: 12, 
                        meetings: 5, 
                        performance: 95,
                        points: 150
                    }
                },
                manOfTheMonth: {
                    userId: 2,
                    name: "Ibrahim Mohammed",
                    avatar: "IM",
                    reason: "Exceptional strategic planning and team leadership throughout November",
                    stats: {
                        tasks: 28,
                        meetings: 8,
                        performance: 92,
                        points: 320
                    }
                },
                leaderboard: [
                    { userId: 1, name: "Tahir Hasan", score: 95, rank: 1, role: "Secretary" },
                    { userId: 2, name: "Ibrahim Mohammed", score: 87, rank: 2, role: "President" },
                    { userId: 4, name: "Fatima Ali", score: 82, rank: 3, role: "Treasurer" },
                    { userId: 3, name: "Asli Ahmed", score: 78, rank: 4, role: "Vice President" }
                ]
            },

            settings: {
                institution: "SIT International University",
                council: "Student Council",
                logo: "https://via.placeholder.com/150x50/2563eb/ffffff?text=SBC+Logo",
                meetingTypes: ["Regular", "Random/Urgent", "Special", "Committee"],
                roles: ["President", "Vice President", "Secretary", "Treasurer", "PRO", "Coordinator", "Member", "Guest"],
                departments: ["Computer Science", "Business", "Engineering", "Finance", "Arts", "Science"],
                autoSaveInterval: 30000, // 30 seconds
                defaultTheme: "light",
                notifications: {
                    email: true,
                    sms: false,
                    push: true
                }
            },

            archive: {
                meetings: [],
                actionItems: [],
                documents: []
            }
        };

        // ==================== STATE MANAGEMENT ====================
        let currentUser = null;
        let currentMeeting = null;
        let autoSaveInterval = null;
        let currentTheme = localStorage.getItem('sit_theme') || 'light';
        let autoSaveEnabled = true;
        let rememberMe = localStorage.getItem('sit_remember_me') === 'true';
        let userSession = JSON.parse(localStorage.getItem('sit_user_session') || 'null');

        // ==================== DOM ELEMENTS ====================
        const authContainer = document.getElementById('authContainer');
        const appContainer = document.getElementById('appContainer');
        const loadingOverlay = document.getElementById('loadingOverlay');
        const toastContainer = document.getElementById('toastContainer');
        const menuToggle = document.getElementById('menuToggle');
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.getElementById('mainContent');
        const logoutBtn = document.getElementById('logoutBtn');
        const userProfile = document.getElementById('userProfile');
        const notificationBell = document.getElementById('notificationBell');
        const themeToggle = document.getElementById('themeToggle');
        const navItems = document.querySelectorAll('.nav-item');
        const pageContents = document.querySelectorAll('.page-content');

        // ==================== INITIALIZATION ====================
        document.addEventListener('DOMContentLoaded', () => {
            initializeApp();
            setupEventListeners();
            checkAuthStatus();
            applyTheme(currentTheme);
        });

        function initializeApp() {
            // Load saved state
            if (rememberMe && userSession) {
                const savedUser = Database.users.find(u => u.id === userSession.userId);
                if (savedUser && userSession.expiry > Date.now()) {
                    currentUser = savedUser;
                }
            }

            // Initialize Google Sign-In
            initializeGoogleSignIn();

            // Start auto-save if enabled
            if (autoSaveEnabled) {
                startAutoSave();
            }

            // Initialize tooltips
            initializeTooltips();

            // Load saved drafts
            loadSavedDrafts();
        }

        function setupEventListeners() {
            // Auth Tabs
            document.querySelectorAll('.auth-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    const formId = tab.dataset.form;
                    switchAuthForm(formId);
                });
            });

            // Login Form
            document.getElementById('loginForm').addEventListener('submit', (e) => {
                e.preventDefault();
                login();
            });

            // Register Form
            document.getElementById('registerForm').addEventListener('submit', (e) => {
                e.preventDefault();
                register();
            });

            // Remember Me Checkbox
            document.getElementById('rememberMe').addEventListener('change', (e) => {
                rememberMe = e.target.checked;
                localStorage.setItem('sit_remember_me', rememberMe);
            });

            // Forgot Password
            document.getElementById('forgotPassword').addEventListener('click', (e) => {
                e.preventDefault();
                forgotPassword();
            });

            // Google Sign-In Buttons
            document.getElementById('googleRegister')?.addEventListener('click', () => {
                simulateGoogleSignIn();
            });

            // Theme Toggle
            themeToggle.addEventListener('click', toggleTheme);

            // Menu Toggle
            menuToggle.addEventListener('click', () => {
                sidebar.classList.toggle('active');
            });

            // Navigation
            navItems.forEach(item => {
                if (item.dataset.page) {
                    item.addEventListener('click', (e) => {
                        e.preventDefault();
                        navigateTo(item.dataset.page);
                    });
                }
            });

            // Logout
            logoutBtn.addEventListener('click', logout);

            // User Profile Dropdown
            userProfile.addEventListener('click', () => {
                showUserMenu();
            });

            // Notification Bell
            notificationBell.addEventListener('click', showNotifications);

            // Auto-save indicators
            document.querySelectorAll('.auto-save-indicator').forEach(indicator => {
                indicator.addEventListener('click', () => {
                    manualSave(indicator.id.replace('AutoSaveIndicator', ''));
                });
            });

            // Save Dashboard Button
            document.getElementById('saveDashboardBtn')?.addEventListener('click', saveDashboard);

            // Quick Meeting Button
            document.getElementById('quickMeetingBtn')?.addEventListener('click', () => {
                navigateTo('new-meeting');
            });

            // Quick Action Buttons
            document.getElementById('generateReportBtn')?.addEventListener('click', generateMonthlyReport);
            document.getElementById('sendRemindersBtn')?.addEventListener('click', sendMeetingReminders);
            document.getElementById('viewAnalyticsBtn')?.addEventListener('click', () => navigateTo('performance'));
            document.getElementById('exportDataBtn')?.addEventListener('click', exportAllData);

            // Add Meeting Button
            document.getElementById('addMeetingBtn')?.addEventListener('click', () => {
                navigateTo('new-meeting');
            });

            // New Meeting Form
            document.getElementById('saveDraftBtn')?.addEventListener('click', saveMeetingDraft);
            document.getElementById('createMeetingBtn')?.addEventListener('click', createMeeting);
            document.getElementById('addAgendaItem')?.addEventListener('click', addAgendaItem);
            document.getElementById('addQuestion')?.addEventListener('click', addQuestion);
            document.getElementById('markAllPresent')?.addEventListener('click', markAllPresent);
            document.getElementById('addDecision')?.addEventListener('click', addDecision);
            document.getElementById('addActionItem')?.addEventListener('click', addActionItem);
            document.getElementById('previewMinutes')?.addEventListener('click', previewMinutes);
            document.getElementById('publishMinutes')?.addEventListener('click', publishMinutes);

            // PDF Buttons
            document.getElementById('printPdfBtn')?.addEventListener('click', () => {
                window.print();
            });

            document.getElementById('downloadPdfBtn')?.addEventListener('click', generatePDF);

            // Form Input Auto-save
            setupFormAutoSave();
        }

        function checkAuthStatus() {
            if (currentUser) {
                showApp();
            } else {
                showAuth();
            }
        }

        // ==================== THEME MANAGEMENT ====================
        function applyTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('sit_theme', theme);
            
            // Update theme toggle icon
            const themeIcon = themeToggle.querySelector('i');
            themeIcon.className = theme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
            
            currentTheme = theme;
            
            // Update user preference if logged in
            if (currentUser) {
                currentUser.preferences.theme = theme;
                saveUserPreferences();
            }
        }

        function toggleTheme() {
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            applyTheme(newTheme);
            showToast(`Switched to ${newTheme} mode`, 'info');
        }

        // ==================== AUTHENTICATION ====================
        function showLoading(message = 'Loading...') {
            loadingOverlay.querySelector('p').textContent = message;
            loadingOverlay.classList.add('show');
        }

        function hideLoading() {
            loadingOverlay.classList.remove('show');
        }

        function showToast(message, type = 'success', duration = 5000) {
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            
            const icons = {
                success: 'check-circle',
                error: 'exclamation-circle',
                warning: 'exclamation-triangle',
                info: 'info-circle'
            };

            toast.innerHTML = `
                <div class="toast-icon">
                    <i class="fas fa-${icons[type]}"></i>
                </div>
                <div class="toast-content">
                    <h4>${type.charAt(0).toUpperCase() + type.slice(1)}</h4>
                    <p>${message}</p>
                </div>
                <button class="toast-close">
                    <i class="fas fa-times"></i>
                </button>
            `;

            toastContainer.appendChild(toast);

            // Show with animation
            setTimeout(() => {
                toast.classList.add('show');
            }, 10);

            // Close button
            toast.querySelector('.toast-close').addEventListener('click', () => {
                hideToast(toast);
            });

            // Auto remove
            setTimeout(() => {
                hideToast(toast);
            }, duration);

            // Add notification badge
            if (type !== 'success') {
                updateNotificationBadge();
            }

            return toast;
        }

        function hideToast(toast) {
            toast.classList.remove('show');
            setTimeout(() => {
                if (toast.parentNode) {
                    toast.parentNode.removeChild(toast);
                }
            }, 300);
        }

        function switchAuthForm(formId) {
            // Update tabs
            document.querySelectorAll('.auth-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`.auth-tab[data-form="${formId}"]`).classList.add('active');

            // Update forms
            document.querySelectorAll('.auth-form').forEach(form => {
                form.classList.remove('active');
            });
            document.getElementById(`${formId}Form`).classList.add('active');
        }

        function login() {
            showLoading('Signing in...');
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            rememberMe = document.getElementById('rememberMe').checked;

            // Simulate API call delay
            setTimeout(() => {
                const user = Database.users.find(u => u.email === email && u.password === password);

                if (user) {
                    currentUser = user;
                    
                    // Save session if remember me is checked
                    if (rememberMe) {
                        const session = {
                            userId: user.id,
                            expiry: Date.now() + (30 * 24 * 60 * 60 * 1000) // 30 days
                        };
                        localStorage.setItem('sit_user_session', JSON.stringify(session));
                        localStorage.setItem('sit_remember_me', 'true');
                    }
                    
                    localStorage.setItem('sit_council_user', JSON.stringify(user));
                    showApp();
                    showToast('Welcome back! Login successful.', 'success');
                    
                    // Apply user's theme preference
                    if (user.preferences?.theme) {
                        applyTheme(user.preferences.theme);
                    }
                    
                    // Update performance streak
                    if (user.performance) {
                        user.performance.streak++;
                        updatePerformanceMetrics();
                    }
                } else {
                    showToast('Invalid email or password', 'error');
                }
                hideLoading();
            }, 1000);
        }

        function register() {
            showLoading('Creating account...');
            
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirm = document.getElementById('registerConfirm').value;
            const role = document.getElementById('registerRole').value;
            const studentId = document.getElementById('registerStudentId').value;

            // Validation
            if (password !== confirm) {
                showToast('Passwords do not match', 'error');
                hideLoading();
                return;
            }

            if (password.length < 8) {
                showToast('Password must be at least 8 characters', 'error');
                hideLoading();
                return;
            }

            if (!/^(?=.*[A-Za-z])(?=.*\d).{8,}$/.test(password)) {
                showToast('Password must contain letters and numbers', 'error');
                hideLoading();
                return;
            }

            // Check if user exists
            if (Database.users.some(u => u.email === email)) {
                showToast('Email already registered', 'error');
                hideLoading();
                return;
            }

            // Create new user
            setTimeout(() => {
                const newUser = {
                    id: Database.users.length + 1,
                    name,
                    email,
                    password,
                    role,
                    studentId,
                    avatar: name.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2),
                    avatarColor: getRandomColor(),
                    department: '',
                    phone: '',
                    joinDate: new Date().toISOString().split('T')[0],
                    performance: {
                        meetingsAttended: 0,
                        tasksCompleted: 0,
                        rating: 0,
                        streak: 1,
                        achievements: [],
                        points: 0
                    },
                    preferences: {
                        theme: 'light',
                        notifications: true,
                        autoSave: true
                    }
                };

                Database.users.push(newUser);
                currentUser = newUser;
                
                // Save user
                localStorage.setItem('sit_council_user', JSON.stringify(newUser));
                
                showApp();
                showToast('Registration successful! Welcome to SIT Council.', 'success');
                hideLoading();
            }, 1000);
        }

        function forgotPassword() {
            const email = prompt('Please enter your email address to reset password:');
            if (email) {
                showLoading('Sending reset instructions...');
                setTimeout(() => {
                    showToast(`Password reset instructions sent to ${email}`, 'info');
                    hideLoading();
                }, 1500);
            }
        }

        function simulateGoogleSignIn() {
            showLoading('Connecting with Google...');
            
            setTimeout(() => {
                // Simulate Google account
                const googleUser = {
                    id: 1000,
                    name: "Google User",
                    email: "user@gmail.com",
                    role: "Member",
                    avatar: "GU",
                    avatarColor: "#4285F4",
                    performance: {
                        meetingsAttended: 0,
                        tasksCompleted: 0,
                        rating: 0,
                        streak: 1,
                        achievements: [],
                        points: 0
                    }
                };

                currentUser = googleUser;
                localStorage.setItem('sit_council_user', JSON.stringify(googleUser));
                
                showApp();
                showToast('Signed in with Google successfully', 'success');
                hideLoading();
            }, 1500);
        }

        function initializeGoogleSignIn() {
            // Google Sign-In would be initialized here with actual client ID
            // For demo, we're using the simulated version
        }

        // ==================== APP NAVIGATION ====================
        function showAuth() {
            authContainer.style.display = 'flex';
            appContainer.style.display = 'none';
            
            // Reset forms
            document.getElementById('loginForm').reset();
            document.getElementById('registerForm').reset();
            
            // Pre-fill remember me
            document.getElementById('rememberMe').checked = rememberMe;
        }

        function showApp() {
            authContainer.style.display = 'none';
            appContainer.style.display = 'block';
            
            // Update user info
            updateUserInfo();
            
            // Load dashboard data
            loadDashboardData();
            
            // Navigate to dashboard
            navigateTo('dashboard');
        }

        function updateUserInfo() {
            if (!currentUser) return;

            document.getElementById('userName').textContent = currentUser.name;
            document.getElementById('userRole').textContent = currentUser.role;
            document.getElementById('userAvatar').textContent = currentUser.avatar;
            document.getElementById('greetingName').textContent = currentUser.name.split(' ')[0];
            
            // Set avatar background color
            const avatar = document.getElementById('userAvatar');
            avatar.style.background = currentUser.avatarColor || 
                `linear-gradient(135deg, var(--primary), var(--secondary))`;
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('sit_council_user');
            localStorage.removeItem('sit_user_session');
            showAuth();
            showToast('You have been logged out', 'info');
        }

        function navigateTo(page) {
            // Update navigation
            navItems.forEach(item => {
                item.classList.remove('active');
            });
            
            const activeNav = document.querySelector(`.nav-item[data-page="${page}"]`);
            if (activeNav) {
                activeNav.classList.add('active');
            }

            // Update content
            pageContents.forEach(content => {
                content.classList.remove('active');
            });
            
            const activeContent = document.getElementById(`${page}Content`);
            if (activeContent) {
                activeContent.classList.add('active');
            }

            // Close sidebar on mobile
            if (window.innerWidth <= 1024) {
                sidebar.classList.remove('active');
            }

            // Load page-specific data
            switch(page) {
                case 'dashboard':
                    loadDashboardData();
                    break;
                case 'new-meeting':
                    loadMeetingForm();
                    break;
                case 'minutes':
                    loadMinutesList();
                    break;
                case 'members':
                    loadCouncilMembers();
                    break;
                case 'performance':
                    loadPerformanceData();
                    break;
                case 'archive':
                    loadArchive();
                    break;
                case 'calendar':
                    initializeCalendar();
                    break;
                case 'pdf':
                    generatePDFPreview();
                    break;
                case 'settings':
                    loadSettings();
                    break;
            }
        }

        // ==================== DASHBOARD FUNCTIONS ====================
        function loadDashboardData() {
            // Update stats
            document.getElementById('meetingsCount').textContent = Database.meetings.length;
            
            const totalTasks = Database.meetings.reduce((acc, meeting) => 
                acc + (meeting.minutes?.actionItems?.length || 0), 0
            );
            document.getElementById('tasksCount').textContent = totalTasks;
            
            // Update Top Performer
            const performer = Database.performance.manOfTheWeek;
            document.getElementById('performerName').textContent = performer.name;
            document.getElementById('performerAvatar').textContent = performer.avatar;
            document.getElementById('performerReason').textContent = performer.reason;

            // Load recent meetings
            loadRecentMeetings();
            
            // Load upcoming meetings
            loadUpcomingMeetings();
            
            // Update auto-save indicator
            updateAutoSaveIndicator('dashboard');
        }

        function loadRecentMeetings() {
            const container = document.getElementById('recentMeetingsList');
            if (!container) return;

            const recentMeetings = Database.meetings
                .sort((a, b) => new Date(b.date) - new Date(a.date))
                .slice(0, 5);

            container.innerHTML = recentMeetings.map(meeting => `
                <div class="meeting-item">
                    <div class="meeting-info">
                        <h4>${meeting.title}</h4>
                        <div class="meeting-meta">
                            <span><i class="far fa-calendar"></i> ${formatDate(meeting.date)}</span>
                            <span><i class="far fa-clock"></i> ${meeting.startTime} - ${meeting.endTime}</span>
                        </div>
                    </div>
                    <span class="meeting-type type-${meeting.type}">
                        ${meeting.type.charAt(0).toUpperCase() + meeting.type.slice(1)}
                    </span>
                </div>
            `).join('');
        }

        function loadUpcomingMeetings() {
            const container = document.getElementById('upcomingMeetingsTable');
            if (!container) return;

            // For demo, create some upcoming meetings
            const upcomingMeetings = [
                {
                    id: 2,
                    title: "Budget Committee Meeting",
                    date: "2023-12-05",
                    time: "10:00",
                    type: "committee",
                    location: "Finance Room",
                    status: "scheduled"
                },
                {
                    id: 3,
                    title: "Emergency Council Meeting",
                    date: "2023-12-02",
                    time: "16:00",
                    type: "random",
                    location: "Virtual",
                    status: "urgent"
                },
                {
                    id: 4,
                    title: "Cultural Fest Planning",
                    date: "2023-12-08",
                    time: "14:00",
                    type: "special",
                    location: "Auditorium",
                    status: "planned"
                }
            ];

            container.innerHTML = upcomingMeetings.map(meeting => `
                <tr>
                    <td>${formatDate(meeting.date)} ${meeting.time}</td>
                    <td>${meeting.title}</td>
                    <td>
                        <span class="badge ${getMeetingTypeBadgeClass(meeting.type)}">
                            ${meeting.type.charAt(0).toUpperCase() + meeting.type.slice(1)}
                        </span>
                    </td>
                    <td>${meeting.location}</td>
                    <td>
                        <span class="badge ${getStatusBadgeClass(meeting.status)}">
                            ${meeting.status.charAt(0).toUpperCase() + meeting.status.slice(1)}
                        </span>
                    </td>
                    <td>
                        <button class="btn-icon" title="Edit" onclick="editMeeting(${meeting.id})">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn-icon" title="Delete" onclick="deleteMeeting(${meeting.id})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                </tr>
            `).join('');
        }

        function saveDashboard() {
            showLoading('Saving dashboard...');
            
            setTimeout(() => {
                const dashboardState = {
                    lastSaved: new Date().toISOString(),
                    widgets: {},
                    userPreferences: currentUser?.preferences || {}
                };

                localStorage.setItem('dashboard_state', JSON.stringify(dashboardState));
                showToast('Dashboard saved successfully', 'success');
                hideLoading();
            }, 500);
        }

        // ==================== MEETING MANAGEMENT ====================
        function loadMeetingForm() {
            const draft = localStorage.getItem('meeting_draft');
            if (draft) {
                const meetingData = JSON.parse(draft);
                
                document.getElementById('meetingTitle').value = meetingData.title || '';
                document.getElementById('meetingType').value = meetingData.type || 'regular';
                document.getElementById('meetingDate').value = meetingData.date || '';
                document.getElementById('meetingStartTime').value = meetingData.startTime || '';
                document.getElementById('meetingEndTime').value = meetingData.endTime || '';
                document.getElementById('meetingLocation').value = meetingData.location || '';
                document.getElementById('meetingChair').value = meetingData.chair || '';
                document.getElementById('meetingObjective').value = meetingData.objective || '';
                
                // Load agenda items
                if (meetingData.agenda) {
                    meetingData.agenda.forEach(item => addAgendaItem(item));
                }
                
                // Load questions
                if (meetingData.questions) {
                    meetingData.questions.forEach(q => addQuestion(q));
                }
                
                // Load attendance
                if (meetingData.attendees) {
                    loadAttendanceGrid(meetingData.attendees);
                }
            } else {
                // Load default attendance grid
                loadAttendanceGrid();
            }
            
            updateAutoSaveIndicator('meeting');
        }

        function saveMeetingDraft() {
            const meetingData = {
                title: document.getElementById('meetingTitle').value,
                type: document.getElementById('meetingType').value,
                date: document.getElementById('meetingDate').value,
                startTime: document.getElementById('meetingStartTime').value,
                endTime: document.getElementById('meetingEndTime').value,
                location: document.getElementById('meetingLocation').value,
                chair: document.getElementById('meetingChair').value,
                objective: document.getElementById('meetingObjective').value,
                agenda: getAgendaItems(),
                questions: getQuestions(),
                attendees: getAttendanceData(),
                lastSaved: new Date().toISOString()
            };

            localStorage.setItem('meeting_draft', JSON.stringify(meetingData));
            
            // Update auto-save indicator
            const indicator = document.getElementById('meetingAutoSaveIndicator');
            indicator.classList.add('saved');
            indicator.querySelector('span').textContent = 'Draft saved';
            
            setTimeout(() => {
                indicator.classList.remove('saved');
                indicator.querySelector('span').textContent = 'Auto-saved';
            }, 2000);
            
            showToast('Meeting draft saved', 'info');
        }

        function createMeeting() {
            showLoading('Creating meeting...');
            
            const meetingData = {
                title: document.getElementById('meetingTitle').value,
                type: document.getElementById('meetingType').value,
                date: document.getElementById('meetingDate').value,
                startTime: document.getElementById('meetingStartTime').value,
                endTime: document.getElementById('meetingEndTime').value,
                location: document.getElementById('meetingLocation').value,
                chair: document.getElementById('meetingChair').value,
                objective: document.getElementById('meetingObjective').value,
                agenda: getAgendaItems(),
                questions: getQuestions(),
                attendees: getAttendanceData(),
                minutes: {
                    summary: document.getElementById('meetingSummary').value,
                    decisions: getDecisions(),
                    actionItems: getActionItems()
                }
            };

            // Validation
            if (!meetingData.title || !meetingData.date || !meetingData.chair) {
                showToast('Please fill all required fields', 'error');
                hideLoading();
                return;
            }

            setTimeout(() => {
                const newMeeting = {
                    id: Database.meetings.length + 1,
                    ...meetingData,
                    minutesTaker: currentUser?.name || 'Secretary',
                    status: 'scheduled',
                    archived: false,
                    createdAt: new Date().toISOString(),
                    updatedAt: new Date().toISOString()
                };

                Database.meetings.push(newMeeting);
                
                // Clear draft
                localStorage.removeItem('meeting_draft');
                
                // Clear form
                document.getElementById('meetingTitle').value = '';
                // ... clear other fields
                
                showToast('Meeting created successfully!', 'success');
                
                // Update performance
                if (currentUser?.performance) {
                    currentUser.performance.meetingsAttended++;
                    updatePerformanceMetrics();
                }
                
                // Navigate to dashboard
                navigateTo('dashboard');
                hideLoading();
            }, 1000);
        }

        // ==================== AGENDA BUILDER ====================
        function addAgendaItem(data = {}) {
            const container = document.getElementById('agendaItems');
            const id = Date.now();
            
            const agendaItem = document.createElement('div');
            agendaItem.className = 'agenda-item';
            agendaItem.innerHTML = `
                <div class="agenda-header">
                    <div class="agenda-number">${container.children.length + 1}</div>
                    <div class="agenda-actions">
                        <button class="btn-icon" onclick="moveAgendaItem(this, -1)">
                            <i class="fas fa-arrow-up"></i>
                        </button>
                        <button class="btn-icon" onclick="moveAgendaItem(this, 1)">
                            <i class="fas fa-arrow-down"></i>
                        </button>
                        <button class="btn-icon" onclick="removeAgendaItem(this)">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Item Title</label>
                        <input type="text" class="form-control agenda-title" 
                               value="${data.title || ''}" 
                               placeholder="Discussion topic">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Presenter</label>
                        <input type="text" class="form-control agenda-presenter" 
                               value="${data.presenter || ''}" 
                               placeholder="Presenter name">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Duration (minutes)</label>
                        <input type="number" class="form-control agenda-duration" 
                               value="${data.duration || 15}" 
                               min="1" max="120">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Status</label>
                        <select class="form-control agenda-status">
                            <option value="pending" ${data.status === 'pending' ? 'selected' : ''}>Pending</option>
                            <option value="in-progress" ${data.status === 'in-progress' ? 'selected' : ''}>In Progress</option>
                            <option value="completed" ${data.status === 'completed' ? 'selected' : ''}>Completed</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea class="form-control agenda-description" rows="2" 
                              placeholder="Detailed description...">${data.description || ''}</textarea>
                </div>
            `;
            
            container.appendChild(agendaItem);
            updateAgendaNumbers();
        }

        function moveAgendaItem(button, direction) {
            const agendaItem = button.closest('.agenda-item');
            const container = document.getElementById('agendaItems');
            const index = Array.from(container.children).indexOf(agendaItem);
            
            if ((direction === -1 && index > 0) || (direction === 1 && index < container.children.length - 1)) {
                const sibling = container.children[index + direction];
                container.insertBefore(agendaItem, direction === -1 ? sibling : sibling.nextSibling);
                updateAgendaNumbers();
                showToast('Agenda item moved', 'info');
            }
        }

        function removeAgendaItem(button) {
            if (confirm('Are you sure you want to remove this agenda item?')) {
                const agendaItem = button.closest('.agenda-item');
                agendaItem.remove();
                updateAgendaNumbers();
                showToast('Agenda item removed', 'info');
            }
        }

        function updateAgendaNumbers() {
            const items = document.querySelectorAll('.agenda-item');
            items.forEach((item, index) => {
                item.querySelector('.agenda-number').textContent = index + 1;
            });
        }

        function getAgendaItems() {
            const items = [];
            document.querySelectorAll('.agenda-item').forEach(item => {
                items.push({
                    title: item.querySelector('.agenda-title').value,
                    presenter: item.querySelector('.agenda-presenter').value,
                    duration: parseInt(item.querySelector('.agenda-duration').value),
                    status: item.querySelector('.agenda-status').value,
                    description: item.querySelector('.agenda-description').value
                });
            });
            return items;
        }

        // ==================== STUDENT QUESTIONS ====================
        function addQuestion(data = {}) {
            const container = document.getElementById('questionsList');
            const id = Date.now();
            
            const questionItem = document.createElement('div');
            questionItem.className = 'question-item';
            questionItem.innerHTML = `
                <div class="question-header">
                    <div>
                        <div class="question-text">${data.question || 'New question...'}</div>
                        <div class="question-meta">
                            <span><i class="fas fa-user"></i> ${data.askedBy || 'Anonymous'}</span>
                            <span><i class="fas fa-clock"></i> Just now</span>
                        </div>
                    </div>
                    <div class="question-actions">
                        <button class="btn-icon" onclick="answerQuestion(this)">
                            <i class="fas fa-reply"></i>
                        </button>
                        <button class="btn-icon" onclick="removeQuestion(this)">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                ${data.answer ? `
                    <div class="answer" style="margin-top: 10px; padding: 10px; background: var(--success-light); border-radius: 6px;">
                        <strong>Answer:</strong> ${data.answer}
                    </div>
                ` : ''}
            `;
            
            container.appendChild(questionItem);
        }

        function answerQuestion(button) {
            const questionItem = button.closest('.question-item');
            const answer = prompt('Enter your answer:');
            if (answer) {
                const answerDiv = document.createElement('div');
                answerDiv.className = 'answer';
                answerDiv.style.marginTop = '10px';
                answerDiv.style.padding = '10px';
                answerDiv.style.background = 'var(--success-light)';
                answerDiv.style.borderRadius = '6px';
                answerDiv.innerHTML = `<strong>Answer:</strong> ${answer}`;
                
                // Remove existing answer if any
                const existingAnswer = questionItem.querySelector('.answer');
                if (existingAnswer) {
                    existingAnswer.remove();
                }
                
                questionItem.appendChild(answerDiv);
                showToast('Answer added', 'success');
            }
        }

        function removeQuestion(button) {
            if (confirm('Are you sure you want to remove this question?')) {
                const questionItem = button.closest('.question-item');
                questionItem.remove();
                showToast('Question removed', 'info');
            }
        }

        function getQuestions() {
            const questions = [];
            document.querySelectorAll('.question-item').forEach(item => {
                const question = item.querySelector('.question-text').textContent;
                const askedBy = item.querySelector('.question-meta span:first-child').textContent.replace('üë§ ', '');
                const answerElement = item.querySelector('.answer');
                const answer = answerElement ? answerElement.textContent.replace('Answer: ', '') : '';
                
                questions.push({
                    question,
                    askedBy,
                    answer,
                    status: answer ? 'answered' : 'pending'
                });
            });
            return questions;
        }

        // ==================== ATTENDANCE TRACKING ====================
        function loadAttendanceGrid(attendees = null) {
            const container = document.getElementById('attendanceGrid');
            container.innerHTML = '';
            
            const members = attendees || Database.users.slice(0, 4); // Show first 4 members for demo
            
            members.forEach(member => {
                const attendanceItem = document.createElement('div');
                attendanceItem.className = `member-attendance ${member.status || 'pending'}`;
                attendanceItem.innerHTML = `
                    <div class="user-avatar" style="background: ${member.avatarColor || '#2563eb'}">
                        ${member.avatar}
                    </div>
                    <div style="flex: 1;">
                        <div style="font-weight: 500;">${member.name}</div>
                        <div style="font-size: 12px; color: var(--text-secondary);">${member.role}</div>
                    </div>
                    <div>
                        <select class="attendance-status" onchange="updateAttendanceStatus(this, ${member.id})">
                            <option value="pending" ${!member.status || member.status === 'pending' ? 'selected' : ''}>Pending</option>
                            <option value="present" ${member.status === 'present' ? 'selected' : ''}>Present</option>
                            <option value="absent" ${member.status === 'absent' ? 'selected' : ''}>Absent</option>
                            <option value="late" ${member.status === 'late' ? 'selected' : ''}>Late</option>
                        </select>
                    </div>
                `;
                container.appendChild(attendanceItem);
            });
        }

        function updateAttendanceStatus(select, memberId) {
            const status = select.value;
            const attendanceItem = select.closest('.member-attendance');
            
            // Update class
            attendanceItem.className = `member-attendance ${status}`;
            
            // Update time if present or late
            if (status === 'present' || status === 'late') {
                const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                // You could display the time near the member's name
            }
            
            showToast(`Attendance updated: ${status}`, 'info');
        }

        function markAllPresent() {
            document.querySelectorAll('.attendance-status').forEach(select => {
                select.value = 'present';
                updateAttendanceStatus(select, null);
            });
            showToast('All members marked as present', 'success');
        }

        function getAttendanceData() {
            const attendance = [];
            document.querySelectorAll('.member-attendance').forEach(item => {
                const name = item.querySelector('div[style*="font-weight: 500"]').textContent;
                const role = item.querySelector('div[style*="font-size: 12px"]').textContent;
                const status = item.querySelector('.attendance-status').value;
                
                attendance.push({
                    name,
                    role,
                    status,
                    time: status === 'present' || status === 'late' ? 
                        new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}) : null
                });
            });
            return attendance;
        }

        // ==================== MINUTES & ACTIONS ====================
        function addDecision() {
            const container = document.getElementById('decisionsList');
            const decisionItem = document.createElement('div');
            decisionItem.className = 'decision-item';
            decisionItem.style.display = 'flex';
            decisionItem.style.gap = '10px';
            decisionItem.style.marginBottom = '5px';
            decisionItem.innerHTML = `
                <input type="text" class="form-control" placeholder="Decision made..." style="flex: 1;">
                <button class="btn-icon" onclick="this.parentElement.remove()">
                    <i class="fas fa-times"></i>
                </button>
            `;
            container.appendChild(decisionItem);
        }

        function addActionItem() {
            const container = document.getElementById('actionItemsList');
            const actionItem = document.createElement('div');
            actionItem.className = 'action-item';
            actionItem.style.padding = '10px';
            actionItem.style.border = '1px solid var(--border)';
            actionItem.style.borderRadius = '6px';
            actionItem.style.marginBottom = '10px';
            actionItem.innerHTML = `
                <div class="form-row">
                    <div class="form-group" style="flex: 1;">
                        <input type="text" class="form-control" placeholder="Task description">
                    </div>
                    <div class="form-group">
                        <select class="form-control">
                            ${Database.users.map(user => 
                                `<option value="${user.id}">${user.name}</option>`
                            ).join('')}
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <input type="date" class="form-control" placeholder="Deadline">
                    </div>
                    <div class="form-group">
                        <select class="form-control">
                            <option value="high">High Priority</option>
                            <option value="medium">Medium Priority</option>
                            <option value="low">Low Priority</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <button class="btn-icon" onclick="this.closest('.action-item').remove()">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            `;
            container.appendChild(actionItem);
        }

        function getDecisions() {
            const decisions = [];
            document.querySelectorAll('.decision-item input').forEach(input => {
                if (input.value.trim()) {
                    decisions.push(input.value.trim());
                }
            });
            return decisions;
        }

        function getActionItems() {
            const actionItems = [];
            document.querySelectorAll('.action-item').forEach(item => {
                const task = item.querySelector('input[type="text"]').value;
                const assigneeId = item.querySelector('select').value;
                const assignee = Database.users.find(u => u.id == assigneeId)?.name || 'Unassigned';
                const deadline = item.querySelector('input[type="date"]').value;
                const priority = item.querySelectorAll('select')[1]?.value || 'medium';
                
                if (task.trim()) {
                    actionItems.push({
                        task: task.trim(),
                        assignee,
                        deadline,
                        priority,
                        status: 'pending'
                    });
                }
            });
            return actionItems;
        }

        function previewMinutes() {
            navigateTo('pdf');
            generatePDFPreview();
        }

        function publishMinutes() {
            showLoading('Publishing minutes...');
            
            setTimeout(() => {
                // Save meeting with minutes
                const meetingData = {
                    title: document.getElementById('meetingTitle').value,
                    date: document.getElementById('meetingDate').value,
                    minutes: {
                        summary: document.getElementById('meetingSummary').value,
                        decisions: getDecisions(),
                        actionItems: getActionItems()
                    },
                    publishedAt: new Date().toISOString(),
                    publishedBy: currentUser?.name || 'System'
                };

                // Archive the meeting
                Database.archive.meetings.push(meetingData);
                
                // Clear form
                localStorage.removeItem('meeting_draft');
                
                showToast('Meeting minutes published successfully!', 'success');
                hideLoading();
                
                // Navigate to archive
                navigateTo('archive');
            }, 1500);
        }

        // ==================== PDF GENERATION ====================
        function generatePDFPreview() {
            const preview = document.getElementById('pdfContentArea');
            if (!preview) return;

            const meetingTitle = document.getElementById('meetingTitle').value || 'Monthly Council Meeting';
            const meetingDate = document.getElementById('meetingDate').value || '2023-11-30';
            const meetingChair = document.getElementById('meetingChair').value || 'Ibrahim Mohammed';
            const meetingSummary = document.getElementById('meetingSummary').value || 
                'Productive meeting discussing budget allocations and upcoming cultural fest arrangements.';

            preview.innerHTML = `
                <div class="pdf-section">
                    <h3>Meeting Details</h3>
                    <p><strong>Title:</strong> ${meetingTitle}</p>
                    <p><strong>Date:</strong> ${formatDate(meetingDate)}</p>
                    <p><strong>Time:</strong> 2:00 PM - 4:00 PM</p>
                    <p><strong>Location:</strong> Conference Room A</p>
                    <p><strong>Chairperson:</strong> ${meetingChair}</p>
                    <p><strong>Minutes Taker:</strong> ${currentUser?.name || 'Tahir Hasan'}</p>
                </div>

                <div class="pdf-section">
                    <h3>Attendees</h3>
                    <ul>
                        ${Database.users.slice(0, 4).map(user => 
                            `<li>${user.name} (${user.role})</li>`
                        ).join('')}
                    </ul>
                </div>

                <div class="pdf-section">
                    <h3>Agenda</h3>
                    <ol>
                        <li>
                            <strong>Budget Review (15 mins)</strong><br>
                            Presented by: Treasurer
                        </li>
                        <li>
                            <strong>Cultural Fest Planning (30 mins)</strong><br>
                            Presented by: Event Coordinator
                        </li>
                    </ol>
                </div>

                <div class="pdf-section">
                    <h3>Minutes</h3>
                    <p><strong>Summary:</strong> ${meetingSummary}</p>

                    <h4>Decisions Made:</h4>
                    <ul>
                        <li>Approved cultural fest budget of $5,000</li>
                        <li>Assigned responsibilities for event committees</li>
                        <li>Scheduled next meeting for December 15, 2023</li>
                    </ul>

                    <h4>Action Items:</h4>
                    <table style="width: 100%; border-collapse: collapse; margin-top: 10px;">
                        <thead>
                            <tr>
                                <th style="border: 1px solid #ddd; padding: 8px;">Task</th>
                                <th style="border: 1px solid #ddd; padding: 8px;">Assignee</th>
                                <th style="border: 1px solid #ddd; padding: 8px;">Deadline</th>
                                <th style="border: 1px solid #ddd; padding: 8px;">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">Finalize budget report</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Treasurer</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Dec 5, 2023</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Pending</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ddd; padding: 8px;">Create event timeline</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">PRO</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">Dec 3, 2023</td>
                                <td style="border: 1px solid #ddd; padding: 8px;">In Progress</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="pdf-section">
                    <h3>Next Meeting</h3>
                    <p><strong>Date:</strong> December 15, 2023</p>
                    <p><strong>Time:</strong> 2:00 PM</p>
                    <p><strong>Location:</strong> Conference Room B</p>
                    <p><strong>Agenda:</strong> Review cultural fest progress and budget utilization</p>
                </div>

                <div style="margin-top: 50px; padding-top: 20px; border-top: 2px solid #000;">
                    <div style="float: left; width: 45%;">
                        <p><strong>Prepared by:</strong></p>
                        <p style="margin-top: 40px;">___________________________</p>
                        <p>${currentUser?.name || 'Tahir Hasan'}</p>
                        <p>${currentUser?.role || 'Secretary'}, SIT Student Council</p>
                    </div>
                    <div style="float: right; width: 45%;">
                        <p><strong>Approved by:</strong></p>
                        <p style="margin-top: 40px;">___________________________</p>
                        <p>Ibrahim Mohammed</p>
                        <p>President, SIT Student Council</p>
                    </div>
                    <div style="clear: both;"></div>
                </div>
            `;

            // Update document info
            document.getElementById('docId').textContent = `SC-${new Date().getFullYear()}-${String(Database.meetings.length + 1).padStart(3, '0')}`;
            document.getElementById('docDate').textContent = formatDate(new Date().toISOString().split('T')[0]);
        }

        function generatePDF() {
            showLoading('Generating PDF...');

            setTimeout(() => {
                // Create PDF using jsPDF
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                
                // Set Times New Roman font
                doc.setFont("times");
                
                // Add SBC Logo (placeholder)
                doc.addImage('https://via.placeholder.com/150x50/2563eb/ffffff?text=SBC+Logo', 'PNG', 20, 20, 40, 15);
                
                // Add Title
                doc.setFontSize(20);
                doc.setTextColor(40);
                doc.text("SIT STUDENT COUNCIL", 105, 30, null, null, "center");
                
                doc.setFontSize(16);
                doc.text("OFFICIAL MEETING MINUTES", 105, 40, null, null, "center");
                
                // Add meeting details
                doc.setFontSize(12);
                doc.text(`Document ID: SC-${new Date().getFullYear()}-${String(Database.meetings.length + 1).padStart(3, '0')}`, 20, 60);
                doc.text(`Date: ${formatDate(new Date().toISOString().split('T')[0])}`, 20, 70);
                
                // Add horizontal line
                doc.setLineWidth(0.5);
                doc.line(20, 80, 190, 80);
                
                // Add content
                let yPosition = 90;
                
                // Meeting Details
                doc.setFontSize(14);
                doc.setFont("times", "bold");
                doc.text("MEETING DETAILS", 20, yPosition);
                yPosition += 10;
                
                doc.setFontSize(12);
                doc.setFont("times", "normal");
                doc.text(`Title: ${document.getElementById('meetingTitle').value || 'Monthly Council Meeting'}`, 20, yPosition);
                yPosition += 7;
                doc.text(`Date: ${formatDate(document.getElementById('meetingDate').value || '2023-11-30')}`, 20, yPosition);
                yPosition += 7;
                doc.text(`Chairperson: ${document.getElementById('meetingChair').value || 'Ibrahim Mohammed'}`, 20, yPosition);
                yPosition += 15;
                
                // Add more sections...
                
                // Save PDF
                const pdfBlob = doc.output('blob');
                const url = URL.createObjectURL(pdfBlob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `SIT_Council_Minutes_${new Date().toISOString().split('T')[0]}.pdf`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                showToast('PDF generated and downloaded successfully!', 'success');
                hideLoading();
            }, 2000);
        }

        // ==================== PERFORMANCE TRACKING ====================
        function updatePerformanceMetrics() {
            if (!currentUser?.performance) return;

            // Calculate performance score
            const score = calculatePerformanceScore(currentUser);
            currentUser.performance.rating = score;
            
            // Check for achievements
            checkAchievements(currentUser);
            
            // Update leaderboard
            updateLeaderboard();
            
            // Save updated user
            localStorage.setItem('sit_council_user', JSON.stringify(currentUser));
        }

        function calculatePerformanceScore(user) {
            if (!user.performance) return 0;
            
            const meetingsScore = Math.min(user.performance.meetingsAttended * 2, 40);
            const tasksScore = Math.min(user.performance.tasksCompleted * 1.5, 40);
            const streakScore = Math.min(user.performance.streak * 0.5, 20);
            
            return meetingsScore + tasksScore + streakScore;
        }

        function checkAchievements(user) {
            const achievements = [];
            
            if (user.performance.meetingsAttended >= 10) {
                achievements.push('Dedicated Participant');
            }
            if (user.performance.tasksCompleted >= 25) {
                achievements.push('Task Master');
            }
            if (user.performance.streak >= 5) {
                achievements.push('Consistency Award');
            }
            if (user.performance.points >= 1000) {
                achievements.push('Elite Performer');
            }
            
            user.performance.achievements = [...new Set([...user.performance.achievements, ...achievements])];
        }

        function updateLeaderboard() {
            // Calculate scores for all users
            Database.users.forEach(user => {
                if (user.performance) {
                    user.performance.rating = calculatePerformanceScore(user);
                }
            });

            // Sort by rating
            Database.performance.leaderboard = Database.users
                .filter(user => user.performance)
                .sort((a, b) => b.performance.rating - a.performance.rating)
                .slice(0, 5)
                .map((user, index) => ({
                    userId: user.id,
                    name: user.name,
                    score: user.performance.rating,
                    rank: index + 1,
                    role: user.role
                }));

            // Update Man of the Week
            const topPerformer = Database.performance.leaderboard[0];
            if (topPerformer) {
                Database.performance.manOfTheWeek = {
                    userId: topPerformer.userId,
                    name: topPerformer.name,
                    avatar: Database.users.find(u => u.id === topPerformer.userId)?.avatar || '??',
                    reason: 'Top performer this week',
                    stats: {
                        tasks: Database.users.find(u => u.id === topPerformer.userId)?.performance?.tasksCompleted || 0,
                        meetings: Database.users.find(u => u.id === topPerformer.userId)?.performance?.meetingsAttended || 0,
                        performance: Math.round(topPerformer.score),
                        points: Database.users.find(u => u.id === topPerformer.userId)?.performance?.points || 0
                    }
                };
            }
        }

        function loadPerformanceData() {
            // This would load performance charts and data
            // For now, just update the leaderboard
            updateLeaderboard();
        }

        // ==================== COUNCIL MEMBERS ====================
        function loadCouncilMembers() {
            const container = document.querySelector('#membersContent .members-grid');
            if (!container) return;

            container.innerHTML = Database.users.map(user => `
                <div class="member-card">
                    <div class="member-avatar" style="background: ${user.avatarColor || '#2563eb'}">
                        ${user.avatar}
                    </div>
                    <h3 class="member-name">${user.name}</h3>
                    <div class="member-role">${user.role}</div>
                    <div class="member-info">
                        <div><i class="fas fa-envelope"></i> ${user.email}</div>
                        <div><i class="fas fa-id-card"></i> ${user.studentId}</div>
                        <div><i class="fas fa-graduation-cap"></i> ${user.department || 'Not specified'}</div>
                    </div>
                    <div class="member-stats">
                        <span><i class="fas fa-trophy"></i> ${user.performance?.points || 0} pts</span>
                        <span><i class="fas fa-star"></i> ${user.performance?.rating?.toFixed(1) || 0}/5</span>
                    </div>
                </div>
            `).join('');
        }

        // ==================== SETTINGS ====================
        function loadSettings() {
            // This would load user settings
            // For demo, just show a message
            const container = document.getElementById('settingsContent');
            if (container.querySelector('.settings-section')) return;

            const settingsHTML = `
                <div class="settings-section">
                    <h2 class="section-title"><i class="fas fa-user-cog"></i> Account Settings</h2>
                    
                    <div class="setting-item">
                        <div class="setting-info">
                            <h4>Dark Mode</h4>
                            <p>Switch between light and dark themes</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="darkModeToggle" ${currentTheme === 'dark' ? 'checked' : ''}>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <h4>Auto-save</h4>
                            <p>Automatically save your work</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="autoSaveToggle" ${autoSaveEnabled ? 'checked' : ''}>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <h4>Email Notifications</h4>
                            <p>Receive email notifications for meetings</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="emailNotifications" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <h4>Push Notifications</h4>
                            <p>Receive browser notifications</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="pushNotifications" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h2 class="section-title"><i class="fas fa-shield-alt"></i> Security</h2>
                    
                    <div class="setting-item">
                        <div class="setting-info">
                            <h4>Change Password</h4>
                            <p>Update your account password</p>
                        </div>
                        <button class="btn btn-outline" onclick="changePassword()">Change</button>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <h4>Two-Factor Authentication</h4>
                            <p>Add an extra layer of security</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="twoFactorAuth">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h2 class="section-title"><i class="fas fa-database"></i> Data Management</h2>
                    
                    <div class="setting-item">
                        <div class="setting-info">
                            <h4>Export Data</h4>
                            <p>Download all your data in JSON format</p>
                        </div>
                        <button class="btn btn-outline" onclick="exportUserData()">Export</button>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <h4>Clear Cache</h4>
                            <p>Remove temporary files and data</p>
                        </div>
                        <button class="btn btn-outline" onclick="clearCache()">Clear</button>
                    </div>
                </div>
            `;

            container.insertAdjacentHTML('beforeend', settingsHTML);

            // Add event listeners
            document.getElementById('darkModeToggle').addEventListener('change', (e) => {
                applyTheme(e.target.checked ? 'dark' : 'light');
            });

            document.getElementById('autoSaveToggle').addEventListener('change', (e) => {
                autoSaveEnabled = e.target.checked;
                if (autoSaveEnabled) {
                    startAutoSave();
                } else {
                    stopAutoSave();
                }
            });
        }

        function saveSettings() {
            // This would save settings to backend
            showToast('Settings saved successfully', 'success');
        }

        // ==================== ARCHIVE ====================
        function loadArchive() {
            const container = document.querySelector('#archiveContent .archive-grid');
            if (!container) return;

            container.innerHTML = Database.archive.meetings.map(meeting => `
                <div class="archive-card">
                    <div class="archive-header">
                        <h3 class="archive-title">${meeting.title}</h3>
                        <span class="archive-date">${formatDate(meeting.date)}</span>
                    </div>
                    <p style="margin-bottom: 15px; color: var(--text-secondary);">
                        ${meeting.minutes?.summary?.substring(0, 100)}...
                    </p>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-outline" onclick="viewArchivedMeeting('${meeting.id}')">
                            <i class="fas fa-eye"></i> View
                        </button>
                        <button class="btn btn-outline" onclick="restoreMeeting('${meeting.id}')">
                            <i class="fas fa-undo"></i> Restore
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // ==================== CALENDAR ====================
        function initializeCalendar() {
            const calendarEl = document.getElementById('calendar');
            if (!calendarEl) return;

            const calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                headerToolbar: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,timeGridDay'
                },
                events: Database.meetings.map(meeting => ({
                    title: meeting.title,
                    start: `${meeting.date}T${meeting.startTime}`,
                    end: `${meeting.date}T${meeting.endTime}`,
                    backgroundColor: getMeetingColor(meeting.type),
                    borderColor: getMeetingColor(meeting.type),
                    extendedProps: {
                        type: meeting.type,
                        location: meeting.location
                    }
                })),
                eventClick: function(info) {
                    alert(`Meeting: ${info.event.title}\nType: ${info.event.extendedProps.type}\nLocation: ${info.event.extendedProps.location}`);
                }
            });

            calendar.render();
        }

        // ==================== AUTO-SAVE FUNCTIONS ====================
        function startAutoSave() {
            if (autoSaveInterval) clearInterval(autoSaveInterval);

            autoSaveInterval = setInterval(() => {
                if (currentUser && autoSaveEnabled) {
                    // Auto-save current state
                    const state = {
                        user: currentUser,
                        meetingDraft: localStorage.getItem('meeting_draft'),
                        lastAutoSave: new Date().toISOString()
                    };
                    
                    localStorage.setItem('auto_save_state', JSON.stringify(state));
                    
                    // Update indicators
                    updateAllAutoSaveIndicators();
                }
            }, 30000); // Every 30 seconds
        }

        function stopAutoSave() {
            if (autoSaveInterval) {
                clearInterval(autoSaveInterval);
                autoSaveInterval = null;
            }
        }

        function updateAutoSaveIndicator(page) {
            const indicator = document.getElementById(`${page}AutoSaveIndicator`);
            if (indicator) {
                indicator.classList.add('saving');
                indicator.querySelector('span').textContent = 'Saving...';
                
                setTimeout(() => {
                    indicator.classList.remove('saving');
                    indicator.classList.add('saved');
                    indicator.querySelector('span').textContent = 'Auto-saved';
                    
                    setTimeout(() => {
                        indicator.classList.remove('saved');
                        indicator.querySelector('span').textContent = 'Auto-save';
                    }, 2000);
                }, 500);
            }
        }

        function updateAllAutoSaveIndicators() {
            document.querySelectorAll('.auto-save-indicator').forEach(indicator => {
                const page = indicator.id.replace('AutoSaveIndicator', '');
                updateAutoSaveIndicator(page);
            });
        }

        function manualSave(page) {
            showLoading(`Saving ${page}...`);
            
            setTimeout(() => {
                switch(page) {
                    case 'dashboard':
                        saveDashboard();
                        break;
                    case 'meeting':
                        saveMeetingDraft();
                        break;
                    case 'agenda':
                        // Save agenda logic
                        break;
                    case 'attendance':
                        // Save attendance logic
                        break;
                    case 'minutes':
                        // Save minutes logic
                        break;
                }
                
                showToast(`${page.charAt(0).toUpperCase() + page.slice(1)} saved successfully`, 'success');
                hideLoading();
            }, 500);
        }

        function setupFormAutoSave() {
            // Add input event listeners for auto-save
            const autoSaveInputs = document.querySelectorAll('.form-control, textarea, select');
            autoSaveInputs.forEach(input => {
                input.addEventListener('input', () => {
                    const formSection = input.closest('.form-section');
                    if (formSection) {
                        const page = formSection.closest('.page-content').id.replace('Content', '');
                        updateAutoSaveIndicator(page);
                    }
                });
            });
        }

        // ==================== HELPER FUNCTIONS ====================
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'short',
                day: 'numeric'
            });
        }

        function getRandomColor() {
            const colors = [
                '#2563eb', '#7c3aed', '#10b981', '#f59e0b', '#ef4444',
                '#8b5cf6', '#ec4899', '#14b8a6', '#f97316', '#84cc16'
            ];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        function getMeetingColor(type) {
            switch(type) {
                case 'regular': return '#3b82f6';
                case 'random': return '#f59e0b';
                case 'special': return '#8b5cf6';
                case 'committee': return '#10b981';
                default: return '#6b7280';
            }
        }

        function getMeetingTypeBadgeClass(type) {
            switch(type) {
                case 'regular': return 'badge-info';
                case 'random': return 'badge-warning';
                case 'special': return 'badge-primary';
                case 'committee': return 'badge-success';
                default: return 'badge-info';
            }
        }

        function getStatusBadgeClass(status) {
            switch(status) {
                case 'scheduled': return 'badge-info';
                case 'urgent': return 'badge-danger';
                case 'planned': return 'badge-success';
                case 'completed': return 'badge-success';
                default: return 'badge-info';
            }
        }

        function updateNotificationBadge() {
            const badge = document.querySelector('.notification-badge');
            if (badge) {
                // For demo, just show badge
                badge.style.display = 'block';
            }
        }

        function showUserMenu() {
            // In a real app, this would show a dropdown menu
            const menu = document.createElement('div');
            menu.className = 'user-menu';
            menu.style.position = 'absolute';
            menu.style.top = '70px';
            menu.style.right = '30px';
            menu.style.background = 'var(--bg-primary)';
            menu.style.borderRadius = 'var(--radius)';
            menu.style.boxShadow = 'var(--shadow-lg)';
            menu.style.padding = '10px';
            menu.style.minWidth = '200px';
            menu.style.zIndex = '1001';
            menu.style.border = '1px solid var(--border)';
            
            menu.innerHTML = `
                <div style="padding: 10px; border-bottom: 1px solid var(--border);">
                    <div style="font-weight: 500;">${currentUser?.name}</div>
                    <div style="font-size: 12px; color: var(--text-secondary);">${currentUser?.role}</div>
                </div>
                <button class="user-menu-item" onclick="navigateTo('settings')">
                    <i class="fas fa-cog"></i> Settings
                </button>
                <button class="user-menu-item" onclick="showProfile()">
                    <i class="fas fa-user"></i> Profile
                </button>
                <button class="user-menu-item" onclick="logout()" style="color: var(--danger);">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            `;
            
            // Add styles for menu items
            const style = document.createElement('style');
            style.textContent = `
                .user-menu-item {
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    width: 100%;
                    padding: 10px;
                    border: none;
                    background: none;
                    color: var(--text-primary);
                    cursor: pointer;
                    border-radius: 6px;
                    transition: var(--transition);
                }
                .user-menu-item:hover {
                    background: var(--bg-tertiary);
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(menu);
            
            // Close menu when clicking outside
            setTimeout(() => {
                const closeMenu = (e) => {
                    if (!menu.contains(e.target) && !userProfile.contains(e.target)) {
                        menu.remove();
                        document.removeEventListener('click', closeMenu);
                    }
                };
                document.addEventListener('click', closeMenu);
            }, 100);
        }

        function showNotifications() {
            const notifications = [
                { id: 1, title: 'Meeting Reminder', message: 'Budget meeting in 2 hours', type: 'info' },
                { id: 2, title: 'Action Required', message: '3 tasks approaching deadline', type: 'warning' },
                { id: 3, title: 'New Member', message: 'Asli Ahmed joined the council', type: 'success' },
                { id: 4, title: 'Meeting Minutes Ready', message: 'November meeting minutes are ready for review', type: 'info' }
            ];

            // Clear existing toasts
            toastContainer.innerHTML = '';

            // Show notifications as toasts
            notifications.forEach(notification => {
                showToast(notification.message, notification.type);
            });

            // Clear notification badge
            const badge = document.querySelector('.notification-badge');
            if (badge) {
                badge.style.display = 'none';
            }
        }

        function showProfile() {
            alert(`Profile View\n\nName: ${currentUser?.name}\nEmail: ${currentUser?.email}\nRole: ${currentUser?.role}\nStudent ID: ${currentUser?.studentId}`);
        }

        function changePassword() {
            const newPassword = prompt('Enter new password:');
            if (newPassword && newPassword.length >= 8) {
                showToast('Password changed successfully', 'success');
            }
        }

        function exportUserData() {
            const data = {
                user: currentUser,
                meetings: Database.meetings,
                archive: Database.archive,
                exportedAt: new Date().toISOString()
            };

            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `sit_council_data_${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            showToast('Data exported successfully', 'success');
        }

        function clearCache() {
            localStorage.removeItem('meeting_draft');
            localStorage.removeItem('auto_save_state');
            showToast('Cache cleared successfully', 'success');
        }

        function loadSavedDrafts() {
            const draft = localStorage.getItem('meeting_draft');
            if (draft) {
                console.log('Loaded meeting draft from local storage');
            }
        }

        function initializeTooltips() {
            // Add tooltip functionality to buttons with title attribute
            document.querySelectorAll('[title]').forEach(element => {
                element.addEventListener('mouseenter', (e) => {
                    const tooltip = document.createElement('div');
                    tooltip.className = 'tooltip';
                    tooltip.textContent = e.target.title;
                    tooltip.style.position = 'absolute';
                    tooltip.style.background = 'var(--bg-tertiary)';
                    tooltip.style.color = 'var(--text-primary)';
                    tooltip.style.padding = '5px 10px';
                    tooltip.style.borderRadius = '4px';
                    tooltip.style.fontSize = '12px';
                    tooltip.style.zIndex = '10000';
                    tooltip.style.whiteSpace = 'nowrap';
                    
                    const rect = e.target.getBoundingClientRect();
                    tooltip.style.top = (rect.top - 30) + 'px';
                    tooltip.style.left = (rect.left + rect.width / 2) + 'px';
                    tooltip.style.transform = 'translateX(-50%)';
                    
                    document.body.appendChild(tooltip);
                    e.target._tooltip = tooltip;
                });

                element.addEventListener('mouseleave', (e) => {
                    if (e.target._tooltip) {
                        e.target._tooltip.remove();
                        delete e.target._tooltip;
                    }
                });
            });
        }

        // ==================== QUICK ACTION FUNCTIONS ====================
        function generateMonthlyReport() {
            showLoading('Generating monthly report...');
            setTimeout(() => {
                showToast('Monthly report generated successfully', 'success');
                hideLoading();
            }, 1500);
        }

        function sendMeetingReminders() {
            showLoading('Sending reminders...');
            setTimeout(() => {
                showToast('Meeting reminders sent to all members', 'success');
                hideLoading();
            }, 1500);
        }

        function exportAllData() {
            const data = {
                users: Database.users,
                meetings: Database.meetings,
                performance: Database.performance,
                settings: Database.settings,
                archive: Database.archive,
                exportedAt: new Date().toISOString()
            };

            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `sit_council_full_export_${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            showToast('All data exported successfully', 'success');
        }

        // ==================== MEETING EDIT/DELETE FUNCTIONS ====================
        function editMeeting(id) {
            const meeting = Database.meetings.find(m => m.id === id);
            if (meeting) {
                // Load meeting into form
                document.getElementById('meetingTitle').value = meeting.title;
                document.getElementById('meetingType').value = meeting.type;
                document.getElementById('meetingDate').value = meeting.date;
                document.getElementById('meetingStartTime').value = meeting.startTime;
                document.getElementById('meetingEndTime').value = meeting.endTime;
                document.getElementById('meetingLocation').value = meeting.location;
                document.getElementById('meetingChair').value = meeting.chair;
                document.getElementById('meetingObjective').value = meeting.objective;
                
                // Navigate to meeting form
                navigateTo('new-meeting');
                showToast('Meeting loaded for editing', 'info');
            }
        }

        function deleteMeeting(id) {
            if (confirm('Are you sure you want to delete this meeting?')) {
                const index = Database.meetings.findIndex(m => m.id === id);
                if (index !== -1) {
                    Database.meetings.splice(index, 1);
                    loadUpcomingMeetings();
                    showToast('Meeting deleted successfully', 'success');
                }
            }
        }

        // ==================== PERFORMANCE TRACKING INTERVAL ====================
        setInterval(updatePerformanceMetrics, 60000); // Update every minute

        // ==================== INITIAL PERFORMANCE UPDATE ====================
        setTimeout(updatePerformanceMetrics, 1000);
    </script>
</body>
</html>
